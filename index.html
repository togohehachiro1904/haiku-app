<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ¥µãƒ»ä¿³å¥æ­³æ™‚è¨˜ | æœ€çµ‚å®Œå…¨ç‰ˆ</title>
<link href="https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;500;700&display=swap" rel="stylesheet">
<style>
    /* =========================================
       åŸºæœ¬è¨­å®š
       ========================================= */
    :root {
        --primary: #2c3e50;
        --accent: #555;
        --bg: #fdfdfd;
        --font: 'Shippori Mincho', serif;
        --shadow: 0 4px 25px rgba(0,0,0,0.08);
        --sidebar-w: 260px;
    }
    /* å››å­£ãƒ†ãƒ¼ãƒ */
    body.spring { --bg: #fffbfd; --accent: #d81b60; --grad: linear-gradient(135deg, #fff0f5 0%, #fff 100%); --icon: "ğŸŒ¸"; }
    body.summer { --bg: #f0fcfc; --accent: #00897b; --grad: linear-gradient(135deg, #e0f2f1 0%, #fff 100%); --icon: "ğŸ"; }
    body.autumn { --bg: #fff8e1; --accent: #e65100; --grad: linear-gradient(135deg, #fff3e0 0%, #fff 100%); --icon: "ğŸ"; }
    body.winter { --bg: #f4f6f8; --accent: #455a64; --grad: linear-gradient(135deg, #eceff1 0%, #fff 100%); --icon: "â„ï¸"; }

    * { box-sizing: border-box; }
    body {
        font-family: var(--font);
        background-color: var(--bg);
        color: var(--primary);
        margin: 0;
        display: flex;
        height: 100vh;
        overflow: hidden;
        transition: background 0.5s ease;
    }

    /* ã‚µã‚¤ãƒ‰ãƒãƒ¼ */
    #sidebar {
        width: var(--sidebar-w);
        background: rgba(255,255,255,0.95);
        border-right: 1px solid rgba(0,0,0,0.05);
        padding: 1rem;
        display: flex; flex-direction: column;
        z-index: 20;
    }
    h1.logo {
        font-size: 1.4rem; text-align: center; letter-spacing: 0.1em;
        margin-bottom: 1rem; padding-bottom: 1rem;
        border-bottom: 2px solid var(--accent);
    }
    .nav-label { font-size: 0.75rem; color: #888; margin: 1rem 0 0.5rem 0.5rem; font-weight: bold; }
    .nav-btn {
        background: none; border: none; width: 100%; padding: 0.8rem 1rem;
        text-align: left; font-family: var(--font); font-size: 0.95rem;
        cursor: pointer; border-radius: 6px; color: #555; transition: 0.2s;
        display: flex; align-items: center; gap: 8px; margin-bottom: 4px;
    }
    .nav-btn:hover, .nav-btn.active {
        background-color: var(--accent); color: #fff; font-weight: bold;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .date-info {
        margin-top: auto; padding: 1rem; background: #f0f0f0; border-radius: 8px;
        text-align: center; font-size: 0.9rem; margin-bottom: 1rem;
    }
    select {
        width: 100%; padding: 0.8rem; border: 2px solid #ddd;
        font-family: var(--font); border-radius: 6px; font-size: 1rem;
        cursor: pointer; background: #fff;
    }

    /* ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ */
    #main {
        flex: 1; padding: 2rem 3rem; overflow-y: auto; position: relative;
    }
    header {
        background: var(--grad); padding: 2rem 3rem; border-radius: 12px;
        margin-bottom: 2rem; box-shadow: var(--shadow);
        border-left: 6px solid var(--accent); position: relative; overflow: hidden;
    }
    .header-icon {
        position: absolute; right: 20px; bottom: -20px;
        font-size: 8rem; opacity: 0.15; pointer-events: none;
    }

    /* ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
    .haiku-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; }
    .kigo-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; }
    .poet-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem; }

    /* ä¿³å¥ã‚«ãƒ¼ãƒ‰ */
    .haiku-card {
        background: #fff; border-radius: 10px; height: 320px;
        box-shadow: var(--shadow); padding: 1.5rem;
        display: flex; flex-direction: column; align-items: center; justify-content: center;
        transition: transform 0.3s; position: relative; border: 1px solid transparent; cursor: pointer;
    }
    .haiku-card:hover { transform: translateY(-5px); border-color: var(--accent); }
    .v-text {
        writing-mode: vertical-rl; text-orientation: upright;
        font-size: 1.35rem; letter-spacing: 0.1em; line-height: 2.5;
        height: 220px; margin-bottom: 0.5rem;
    }
    .h-part { margin-left: 10px; display: inline-block; white-space: pre-wrap; }
    .author-sign { width: 100%; text-align: center; font-size: 0.9rem; color: var(--accent); border-top: 1px dashed #ddd; padding-top: 0.8rem; font-weight: 700; }
    .hint-badge { position: absolute; top:10px; right:10px; font-size:0.7rem; color:#999; border:1px solid #eee; padding:2px 6px; border-radius:4px;}

    /* å­£èªã‚«ãƒ¼ãƒ‰ */
    .kigo-card {
        background: #fff; padding: 1rem 1.5rem; border-radius: 8px;
        border-left: 4px solid var(--accent); box-shadow: var(--shadow);
        display: flex; flex-direction: column; justify-content: center;
    }
    .kigo-head { display: flex; align-items: baseline; gap: 10px; margin-bottom: 5px; }
    .kigo-word { font-size: 1.25rem; font-weight: bold; }
    .kigo-yomi { font-size: 0.8rem; color: #777; }
    .kigo-mean { font-size: 0.9rem; color: #555; line-height: 1.4; }

    /* ä¿³äººã‚«ãƒ¼ãƒ‰ */
    .poet-card {
        background: #fff; border-radius: 10px; box-shadow: var(--shadow);
        padding: 1.2rem; display: flex; align-items: center; gap: 1.2rem;
        cursor: pointer; transition: 0.3s; border: 1px solid transparent;
    }
    .poet-card:hover { transform: scale(1.02); border-color: var(--accent); }
    .poet-img {
        width: 80px; height: 80px; border-radius: 50%; object-fit: cover;
        border: 3px solid var(--accent); flex-shrink: 0; background: #eee;
    }
    .poet-name { font-size: 1.2rem; font-weight: bold; margin-bottom: 4px; }
    .poet-era { font-size: 0.85rem; color: #888; }
    .poet-arr { font-size: 0.8rem; color: var(--accent); margin-top: 5px; }

    /* è©³ç´°ãƒšãƒ¼ã‚¸ï¼ˆãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼‰ */
    #detailPage {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: #fff; z-index: 200; transform: translateY(100%);
        transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        overflow-y: auto; display: flex; flex-direction: column;
    }
    #detailPage.active { transform: translateY(0); }
    .detail-header {
        padding: 1.5rem; background: var(--accent); color: #fff;
        display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0;
    }
    .detail-content { padding: 3rem; max-width: 800px; margin: 0 auto; line-height: 2; }
    .close-detail {
        background: transparent; color: #fff; border: 1px solid #fff;
        padding: 0.5rem 1.5rem; border-radius: 20px; cursor: pointer; font-weight: bold;
    }

    /* ãƒãƒ£ãƒƒãƒˆUI */
    .chat-container { max-width: 800px; margin: 0 auto; display: flex; flex-direction: column; height: 100%; }
    .chat-box {
        flex: 1; min-height: 400px; max-height: 500px; overflow-y: auto; background: #fff;
        padding: 2rem; border-radius: 12px; box-shadow: inset 0 2px 10px rgba(0,0,0,0.03);
        margin-bottom: 1rem; border: 1px solid #eee;
    }
    .msg { margin-bottom: 1rem; padding: 1rem 1.5rem; border-radius: 12px; max-width: 85%; line-height: 1.7; }
    .msg-ai { background: #f4f6f8; margin-right: auto; border: 1px solid #e1e4e8; position: relative; }
    .msg-ai::before { content: "AI"; position: absolute; top: -20px; left: 5px; font-size: 0.7rem; color: #999; font-weight: bold; }
    .msg-user { background: var(--accent); color: #fff; margin-left: auto; }
    .input-area { display: flex; gap: 10px; }
    .chat-input { flex: 1; padding: 1rem; border: 2px solid #ddd; border-radius: 8px; font-size: 1rem; }
    .send-btn { background: var(--primary); color: #fff; border: none; padding: 0 2rem; border-radius: 8px; font-weight: bold; cursor: pointer; }

    @media (max-width: 768px) {
        body { flex-direction: column; overflow: auto; }
        #sidebar { width: 100%; }
        #main { padding: 1rem; }
        .haiku-grid, .kigo-grid, .poet-grid { grid-template-columns: 1fr; }
        .haiku-card { height: 280px; }
    }
</style>
</head>
<body class="spring">

<nav id="sidebar">
    <h1 class="logo">æ¥µãƒ»ä¿³å¥æ­³æ™‚è¨˜</h1>
    
    <div class="nav-label">é‘‘è³ãƒ»å­¦ç¿’</div>
    <button class="nav-btn active" onclick="setMode('view')">ğŸ“– ãŠã™ã™ã‚ä¿³å¥</button>
    <button class="nav-btn" onclick="setMode('kigo')">ğŸŒ¿ å­£ç¯€ã®å­£èª</button>
    <button class="nav-btn" onclick="setMode('poets')">ğŸ‘´ ä¿³äººå›³é‘‘</button>

    <div class="nav-label">AIæ©Ÿèƒ½</div>
    <button class="nav-btn" onclick="setMode('qa')">ğŸ™‹ è³ªå•å…ˆç”Ÿ</button>
    <button class="nav-btn" onclick="setMode('score')">ğŸ’¯ æ¡ç‚¹å…ˆç”Ÿ</button>
    <button class="nav-btn" onclick="setMode('gen')">âœ¨ è‡ªå‹•ä¿³å¥ç”Ÿæˆ</button>

    <div class="date-info" id="dateDisplay">--æœˆ--æ—¥</div>
    <select id="monthSelect" onchange="changeMonth(this.value)"></select>
</nav>

<main id="main">
    <header>
        <h2 id="headTitle" style="margin:0; font-size:2rem;"></h2>
        <p id="headSub" style="margin-top:5px; opacity:0.8;"></p>
        <div id="headIcon" class="header-icon"></div>
    </header>
    <div id="content"></div>
</main>

<div id="detailPage">
    <div class="detail-header">
        <h2 style="margin:0;">è©³ç´°æƒ…å ±</h2>
        <button class="close-detail" onclick="closeDetail()">é–‰ã˜ã‚‹</button>
    </div>
    <div id="detailBody" class="detail-content"></div>
</div>

<script>
/* ==========================================================================
   ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ (å…¨æœˆãƒ»å…¨å®Ÿåœ¨ãƒ‡ãƒ¼ã‚¿å®Œå…¨åéŒ²)
   ========================================================================== */
const MONTH_META = {
    1: { s:'winter', n:'ç¦æœˆ', d:'æ–°æ˜¥ã€‚èº«ã‚‚å¿ƒã‚‚å¼•ãç· ã¾ã‚‹å§‹ã¾ã‚Šã®å­£ç¯€ã€‚' },
    2: { s:'winter', n:'å¦‚æœˆ', d:'å¯’ã•æ¥µã¾ã‚‹ä¸­ã€æ¢…ã®é¦™ã‚Šã«æ˜¥ã®å…†ã—ã€‚' },
    3: { s:'spring', n:'å¼¥ç”Ÿ', d:'è‰æœ¨ãŒã„ã‚ˆã„ã‚ˆèŠ½å¹ãã€ç”Ÿå‘½ãŒèºå‹•ã™ã‚‹ã€‚' },
    4: { s:'spring', n:'å¯æœˆ', d:'æ¡œãŒèˆã„ã€æ–°ç”Ÿæ´»ãŒå§‹ã¾ã‚‹è¯ã‚„ã‹ãªæ™‚ã€‚' },
    5: { s:'summer', n:'çšæœˆ', d:'é¢¨è–«ã‚‹æ–°ç·‘ã®å€™ã€‚çˆ½ã‚„ã‹ãªç©ºæ°—ãŒæµã‚Œã‚‹ã€‚' },
    6: { s:'summer', n:'æ°´ç„¡æœˆ', d:'é›¨éŸ³ã«ç´«é™½èŠ±ãŒæ¿¡ã‚Œã‚‹ã€é™ã‹ãªé¢¨æƒ…ã€‚' },
    7: { s:'summer', n:'æ–‡æœˆ', d:'æš‘ã•å³ã—ãã€å¤•ç«‹ã«æ¶¼ã‚’æ±‚ã‚ã‚‹å¤æœ¬ç•ªã€‚' },
    8: { s:'autumn', n:'è‘‰æœˆ', d:'æ™©å¤ã‹ã‚‰åˆç§‹ã¸ã€‚è™«ã®å£°ãŒèã“ãˆå§‹ã‚ã‚‹ã€‚' },
    9: { s:'autumn', n:'é•·æœˆ', d:'æœˆã‚’æ„›ã§ã€å¤œé•·ã‚’æ¥½ã—ã‚€ç§‹ã®æ·±ã¾ã‚Šã€‚' },
    10: { s:'autumn', n:'ç¥ç„¡æœˆ', d:'ç©ºé«˜ãæ¾„ã¿æ¸¡ã‚Šã€ç´…è‘‰ãŒå±±ã‚’æŸ“ã‚ã‚‹ã€‚' },
    11: { s:'winter', n:'éœœæœˆ', d:'æœ¨æ¯ã‚‰ã—ãŒå¹ãã€å†¬ã®è¶³éŸ³ãŒè¿‘ã¥ãã€‚' },
    12: { s:'winter', n:'å¸«èµ°', d:'ä¸€å¹´ã®çµ‚ã‚ã‚Šã€‚å¿™ã—ãã‚‚æ¸©ã‹ã„å›£æ¬’ã®æ™‚ã€‚' }
};

// ä¿³äººå›³é‘‘ (12åãƒ»2x6é…ç½®)
const POETS = [
    { id:'basho', n:'æ¾å°¾ èŠ­è•‰', img:'https://upload.wikimedia.org/wikipedia/commons/4/4b/Basho_by_Buson.jpg', era:'æ±Ÿæˆ¸å‰æœŸ', d:'ã€ä¿³è–ã€‘ã‚ã³ãƒ»ã•ã³ã®ç¾æ„è­˜ã‚’ç¢ºç«‹ã€‚ã€å¥¥ã®ç´°é“ã€ãªã©ã®ç´€è¡Œæ–‡ã‚’æ®‹ã—ã€ä¿³è«§ã‚’èŠ¸è¡“ã®åŸŸã¸é«˜ã‚ãŸã€‚', f:['é–‘ã•ã‚„å²©ã«ã—ã¿å…¥ã‚‹è‰ã®å£°','å¤æ± ã‚„è›™é£›ã³è¾¼ã‚€æ°´ã®éŸ³'] },
    { id:'buson', n:'ä¸è¬ è•ªæ‘', img:'https://upload.wikimedia.org/wikipedia/commons/e/ea/Buson_self_portrait.jpg', era:'æ±Ÿæˆ¸ä¸­æœŸ', d:'ã€ç”»äººã€‘ç”»å®¶ã¨ã—ã¦ã‚‚ä¸€æµã€‚è‰²å½©è±Šã‹ã§çµµç”»çš„ãªã€Œå†™å®Ÿã€ã®å¥ã‚’å¾—æ„ã¨ã—ãŸã€‚', f:['èœã®èŠ±ã‚„æœˆã¯æ±ã«æ—¥ã¯è¥¿ã«','æ˜¥ã®æµ·çµ‚æ—¥ã®ãŸã‚Šã®ãŸã‚Šå“‰'] },
    { id:'issa', n:'å°æ— ä¸€èŒ¶', img:'https://upload.wikimedia.org/wikipedia/commons/2/25/Kobayashi_Issa_Portrait.jpg', era:'æ±Ÿæˆ¸å¾ŒæœŸ', d:'ã€äººé–“å‘³ã€‘ç¶™æ¯ã¨ã®ç¢ºåŸ·ã‚„å­ã®æ­»ãªã©è‹¦é›£ã®äººç”Ÿã€‚å¼±ãã‚‚ã®ã¸ã®æ„›ã¨ãƒ¦ãƒ¼ãƒ¢ã‚¢ãŒç‰¹å¾´ã€‚', f:['é›€ã®å­ãã“ã®ã‘ãã“ã®ã‘ãŠé¦¬ãŒé€šã‚‹','ã‚„ã›è›™è² ã‘ã‚‹ãªä¸€èŒ¶ã“ã‚Œã«ã‚ã‚Š'] },
    { id:'shiki', n:'æ­£å²¡ å­è¦', img:'https://upload.wikimedia.org/wikipedia/commons/5/53/Masaoka_Shiki_01.jpg', era:'æ˜æ²»', d:'ã€é©æ–°è€…ã€‘çµæ ¸ã¨é—˜ã„ãªãŒã‚‰ã€Œä¿³å¥é©æ–°ã€ã‚’æå”±ã€‚ã€Œå†™ç”Ÿã€ã‚’èª¬ãè¿‘ä»£ä¿³å¥ã®çˆ¶ã¨ãªã‚‹ã€‚', f:['æŸ¿ãã¸ã°é˜ãŒé³´ã‚‹ãªã‚Šæ³•éš†å¯º','é¶é ­ã®åå››äº”æœ¬ã‚‚ã‚ã‚Šã¬ã¹ã—'] },
    { id:'chiyo', n:'åŠ è³€ åƒä»£å¥³', img:'https://upload.wikimedia.org/wikipedia/commons/2/22/Chiyo-ni_portrait_by_Utagawa_Kuniyoshi.jpg', era:'æ±Ÿæˆ¸ä¸­æœŸ', d:'ã€å¥³æµã€‘ã€Œæœé¡”ã«ã€œã€ã§æœ‰åã€‚ç¹Šç´°ã‹ã¤ç†çŸ¥çš„ãªä½œé¢¨ã§ã€å½“æ™‚ã‹ã‚‰é«˜ã„è©•ä¾¡ã‚’å—ã‘ãŸã€‚', f:['æœé¡”ã«é‡£ç“¶ã¨ã‚‰ã‚Œã¦ã‚‚ã‚‰ã²æ°´','ã¨ã‚“ã¼é‡£ã‚Šä»Šæ—¥ã¯ã©ã“ã¾ã§è¡Œã£ãŸã‚„ã‚‰'] },
    { id:'soseki', n:'å¤ç›® æ¼±çŸ³', img:'https://upload.wikimedia.org/wikipedia/commons/c/c5/Natsume_Soseki_photo.jpg', era:'æ˜æ²»', d:'ã€æ–‡è±ªã€‘å­è¦ã®è¦ªå‹ã€‚æ¼¢è©©ã®ç´ é¤Šã«åŸºã¥ã„ãŸæ ¼èª¿é«˜ã„å¥ã‚„ã€å¿ƒç†æå†™ã«å„ªã‚ŒãŸå¥ã‚’æ®‹ã—ãŸã€‚', f:['è«ç¨‹ãªå°ã•ãäººã«ç”Ÿã¾ã‚ŒãŸã—','å©ã‹ã‚Œã¦æ˜¼ã®èšŠã‚’åãæœ¨é­šå“‰'] },
    { id:'kyoshi', n:'é«˜æµœ è™šå­', img:'https://upload.wikimedia.org/wikipedia/commons/2/27/Takahama_Kyoshi.jpg', era:'æ˜æ²»-æ˜­å’Œ', d:'ã€å·¨åŒ ã€‘å­è¦ã®å¾Œç¶™è€…ã€‚ã€Œå®¢è¦³å†™ç”Ÿã€ã€ŒèŠ±é³¥è«·è© ã€ã‚’å”±ãˆã€ä¿³å£‡ã«å›è‡¨ã—ãŸã€‚', f:['é å±±ã«æ—¥ã®å½“ãŸã‚ŠãŸã‚‹æ¯é‡ã‹ãª','å»å¹´ä»Šå¹´è²«ãæ£’ã®å¦‚ãã‚‚ã®'] },
    { id:'santoka', n:'ç¨®ç”° å±±é ­ç«', img:'https://upload.wikimedia.org/wikipedia/commons/9/9d/Taneda_Santoka_1938.jpg', era:'æ˜­å’Œ', d:'ã€è‡ªç”±å¾‹ã€‘å®šå‹ã‚’æŒãŸãªã„è‡ªç”±å¾‹ä¿³å¥ã€‚é…’ã¨æ—…ã‚’æ„›ã—ã€å­¤ç‹¬ã¨æ”¾æµªã®ä¸­ã§é­‚ã®å¥ã‚’è© ã‚“ã ã€‚', f:['åˆ†ã‘å…¥ã£ã¦ã‚‚åˆ†ã‘å…¥ã£ã¦ã‚‚é’ã„å±±','ã†ã—ã‚ã™ãŒãŸã®ã—ãã‚Œã¦ã‚†ãã‹'] },
    { id:'akutagawa', n:'èŠ¥å· é¾ä¹‹ä»‹', img:'https://upload.wikimedia.org/wikipedia/commons/9/90/Ryunosuke_Akutagawa_1927.jpg', era:'å¤§æ­£', d:'ã€é¬¼æ‰ã€‘å°èª¬å®¶ã€‚ä¿³å¥ã®æ‰èƒ½ã‚‚å“è¶Šã—ã¦ãŠã‚Šã€éƒ½ä¼šçš„ã§æ„Ÿè¦šã®é‹­ã„å¥ãŒå¤šã„ã€‚', f:['é’è›™ãŠã®ã‚Œã‚‚ãƒšãƒ³ã‚­ã¬ã‚ŠãŸã¦ã‹','æ°´æ´Ÿã‚„é¼»ã®å…ˆã ã‘æš®ã‚Œæ®‹ã‚‹'] },
    { id:'hosai', n:'å°¾å´ æ”¾å“‰', img:'https://upload.wikimedia.org/wikipedia/commons/2/21/Ozaki_Hosai.jpg', era:'å¤§æ­£', d:'ã€å­¤é«˜ã€‘ã€Œå’³ã‚’ã—ã¦ã‚‚ä¸€äººã€ãªã©ã€æ¥µé™ã®å­¤ç‹¬ã‚’è¦‹ã¤ã‚ãŸè‡ªç”±å¾‹ä¿³å¥ã®ä»£è¡¨çš„ä¿³äººã€‚', f:['å’³ã‚’ã—ã¦ã‚‚ä¸€äºº','å¢“ã®ã†ã‚‰ã«å»»ã‚‹'] },
    { id:'dakotsu', n:'é£¯ç”° è›‡ç¬', img:'https://upload.wikimedia.org/wikipedia/commons/9/91/Dakotsu_Iida.jpg', era:'æ˜æ²»-æ˜­å’Œ', d:'ã€æ ¼èª¿ã€‘å±±æ¢¨ã®è‡ªç„¶ã‚’è© ã¿ã€é‡åšã§æ ¼èª¿é«˜ã„å¥é¢¨ã€‚ã€Œå±±å»¬ï¼ˆã•ã‚“ã‚ï¼‰ã€ã‚’æ‹ ç‚¹ã¨ã—ãŸã€‚', f:['èŠ‹ã®éœ²é€£å±±å½±ã‚’æ­£ã—ã†ã™','æ­»ç—…å¾—ã¦çˆªã†ã¤ãã—ãç«æ¡¶ã‹ãª'] },
    { id:'kusatao', n:'ä¸­æ‘ è‰ç”°ç”·', img:'https://upload.wikimedia.org/wikipedia/commons/3/36/Kusatao_Nakamura.jpg', era:'æ˜­å’Œ', d:'ã€äººé–“æ¢æ±‚æ´¾ã€‘ãƒ‹ãƒ¼ãƒã‚§ãªã©ã®å“²å­¦ã«å½±éŸ¿ã‚’å—ã‘ã€å†…é¢çš„ãªäººé–“æ€§ã‚’æ·±ãè¿½æ±‚ã—ãŸã€‚', f:['ä¸‡ç·‘ã®ä¸­ã‚„å¾å­ã®æ­¯ç”Ÿãˆåˆã‚€','é™ã‚‹é›ªã‚„æ˜æ²»ã¯é ããªã‚Šã«ã‘ã‚Š'] }
];

// ä¿³å¥ãƒ‡ãƒ¼ã‚¿ (12ãƒ¶æœˆÃ—12å¥=144å¥)
// [ä¸Š5, ä¸­7, ä¸‹5, ä½œè€…, è§£èª¬]
const HAIKU_DB = {
    1: [["å…ƒæ—¥ã‚„","æ€ã¸ã°ã•ã³ã—","ç§‹ã®æš®","èŠ­è•‰","å…ƒæ—¦ã®è¯ã‚„ã‹ã•ã®ä¸­ã§ã€ãµã¨è€ã„ã‚„å­¤ç‹¬ã‚’æ„Ÿã˜ãŸæ·±ã„å¥ã€‚"],["ã‚ã§ãŸã•ã‚‚","ä¸­ä½ãªã‚Š","ãŠã‚‰ãŒæ˜¥","ä¸€èŒ¶","æ­£æœˆã‚‚ãã“ãã“ã§ã„ã„ã€ã¨é£¾ã‚‰ãªã„ä¸€èŒ¶ã‚‰ã—ã„å–œã³ã€‚"],["åˆæ˜¥ã®","ã¾ãšé…’ã«æ¢…","å£²ã‚Šã«ã‘ã‚Š","èŠ­è•‰","æ–°æ˜¥ã®è¡—ã®è³‘ã‚ã„ã¨ã€æ˜¥ã®è¨ªã‚Œã€‚"],["èª°ã‚‚æ¥ã¬","æ­£æœˆã®åº­ã®","å°é³¥ã‹ãª","å­è¦","ç—…åºŠã®å­è¦ã®åº­ã«æ¥ãŸå°é³¥ã¸ã®æ„›ãŠã—ã•ã€‚"],["ã‹ã–ã‚ŠãŸã‚‹","æµ·è€ã®å…·è¶³ã®","èµ¤ãã‹ãª","èŠ¥å·","é¡é¤…ã®é£¾ã‚Šã®æµ·è€ã®é®®ã‚„ã‹ãªèµ¤è‰²ã€‚"],["å»å¹´ä»Šå¹´","è²«ãæ£’ã®","å¦‚ãã‚‚ã®","è™šå­","å¹´ãŒå¤‰ã‚ã£ã¦ã‚‚å¤‰ã‚ã‚‰ãªã„ä¿¡å¿µã®ã‚ˆã†ãªã‚‚ã®ã€‚"],["åˆç©ºã‚„","å¤§æ‚ªäºº","è™šå­ã®é ­ä¸Š","è™šå­","æ–°å¹´ã®ç©ºã®ä¸‹ã€è‡ªåˆ†ã‚’å¤§æ‚ªäººã¨ãŠã©ã‘ãŸå¥ã€‚"],["ãŠã‚‚ã—ã‚ã†","ã¦ã‚„ãŒã¦æ‚²ã—","éµœèˆŸã‹ãª","èŠ­è•‰","éµœé£¼ã„ã®è¯ã‚„ã‹ã•ã¨ã€ãã®å¾Œã®å“€æ„ã€‚"],["ã“ã‚ŒãŒã¾ã‚","ã¤ã„ã®æ –ã‹","é›ªäº”å°º","ä¸€èŒ¶","é›ªæ·±ã„æ•…éƒ·ã®å®¶ã¸ã®æ„›æ†å…¥ã‚Šæ··ã˜ã‚‹æ€ã„ã€‚"],["é¤…ç„¼ãã‚„","é™ã‹ã«èªã‚‹","å«å§‘","è™šå­","é¤…ã‚’ç„¼ããªãŒã‚‰ã®ç©ã‚„ã‹ãªæ—¥å¸¸ã®ä¸€ã‚³ãƒã€‚"],["åˆå¯Œå£«ã‚„","åŒ—æ–ã®ç­†","åŠã°ã˜ãª","å­è¦","æ–°å¹´ã®å¯Œå£«å±±ã¯åŒ—æ–ã®çµµã‚ˆã‚Šç¾ã—ã„ã€‚"],["æ‰‹æ¯¬ã¤ã","å­ä¾›ã®å¦‚ã","æ—¥æ°¸ã‹ãª","è™šå­","æ—¥ãŒé•·ããªã£ãŸæ˜¥å…ˆã®ã‚ˆã†ãªç©ã‚„ã‹ãªæ—¥ã€‚"]],
    2: [["æ¢…ãŒé¦™ã«","ã®ã¤ã¨æ—¥ã®å‡ºã‚‹","å±±è·¯ã‹ãª","èŠ­è•‰","æ¢…ã®é¦™ã‚Šã¨æœæ—¥ã®å‹¢ã„ã‚’æã„ãŸåå¥ã€‚"],["çŒ«ã®æ‹","ã‚„ã‚€ã¨ãé–¨ã®","æœ§æœˆ","èŠ­è•‰","çŒ«ã®å–§é¨’ãŒæ­¢ã‚“ã å¾Œã®é™ã‹ãªæœ§æœˆå¤œã€‚"],["æ˜¥ç«‹ã¤ã‚„","æ–°å¹´å¤ã","ç±³äº”å‡","èŠ­è•‰","ç«‹æ˜¥ã‚’è¿ãˆãŸãŒç”Ÿæ´»ã¯å¤‰ã‚ã‚‰ãšè³ªç´ ã ã€‚"],["ç™½æ¢…ã®","ã‚ã¨ç´…æ¢…ã®","æ·±ç©ºã‚ã‚Š","é¾å¤ª","æ¢…ã®ç´…ç™½ã¨ã€èƒŒæ™¯ã«ã‚ã‚‹æ·±ã„é’ç©ºã€‚"],["æ°´ä»™ã®","é¦™ã‚„ã“ã¼ã‚Œã¦ã‚‚","é›ªã®ä¸Š","åƒä»£å¥³","é›ªã®ä¸Šã«å€’ã‚Œã¦ã‚‚é¦™ã‚‹æ°´ä»™ã®å¼·ã•ã€‚"],["æ˜¥ã®é›ª","è§£ã‘ã‚„ã™ã‘ã‚Œã°","æ±šã‹ã‚Š","å­è¦","æ˜¥ã®é›ªã¯ã™ãæº¶ã‘ã¦æ³¥ã¨æ··ã˜ã‚Šæ±šã„ã€‚"],["ç´…æ¢…ã‚„","è¦‹ã¬æ‹ä½œã‚‹","ç‰ã™ã ã‚Œ","èŠ­è•‰","ç´…æ¢…ã®è‰²ã‹ã‚‰æ‹å¿ƒã‚’é€£æƒ³ã—ãŸå¥ã€‚"],["æ˜¥å¯’ã‚„","ã¶ã¤ã‹ã‚Šæ­©ã","ç›²çŠ¬","ä¸€èŒ¶","æ˜¥å¯’ã®ä¸­ã€ç›®ã®è¦‹ãˆãªã„çŠ¬ã¸ã®å…±æ„Ÿã€‚"],["é»„æ°´ä»™","ä¿¯ãå’²ãã¯","èª°ãŒãŸã‚","ä¸è©³","ã†ã¤ã‚€ã„ã¦å’²ãæ°´ä»™ã®å¥æ°—ã•ã€‚"],["é¬¼ã¯å¤–","ç¦ã¯å†…ã¨ã®","å£°é«˜ã—","ä¸è©³","ç¯€åˆ†ã®è±†ã¾ãã®è³‘ã‚„ã‹ãªå£°ã€‚"],["é¶¯ã®","èº«ã‚’ã•ã‹ã•ã¾ã«","åˆéŸ³ã‹ãª","å…¶è§’","æã§ã•ã‹ã•ã¾ã«ãªã£ã¦é³´ãé¶¯ã€‚"],["ã†ãã„ã™ã‚„","é¤…ã«ç³ã™ã‚‹","ç¸ã®å…ˆ","èŠ­è•‰","ç¸å´ã®é¤…ã«é¶¯ãŒãƒ•ãƒ³ã‚’ã—ãŸã€é•·é–‘ãªå…‰æ™¯ã€‚"]],
    3: [["èœã®èŠ±ã‚„","æœˆã¯æ±ã«","æ—¥ã¯è¥¿ã«","è•ªæ‘","ä¸€é¢ã®èœã®èŠ±ã¨æœˆæ—¥ã®å¯¾æ¯”ã€‚é›„å¤§ãªçµµç”»çš„å¥ã€‚"],["æ˜¥é¢¨ã‚„","é—˜å¿—æŠ±ãã¦","ä¸˜ã«ç«‹ã¤","è™šå­","æ˜¥ã®é¢¨ã®ä¸­ã§æ–°ãŸãªæ±ºæ„ã‚’å›ºã‚ã‚‹ã€‚"],["å¤æ± ã‚„","è›™é£›ã³è¾¼ã‚€","æ°´ã®éŸ³","èŠ­è•‰","é™å¯‚ï¼ˆã‚ã³ï¼‰ã‚’éŸ³ã§è¡¨ç¾ã—ãŸä¸–ç•Œä¸€æœ‰åãªå¥ã€‚"],["å•“èŸ„ã®","åœŸã¾ã‚“ã˜ã‚…ã†ã®","å´©ã‚Œã‘ã‚Š","èŒ…èˆ","è™«ãŒå‡ºã¦ãã¦åœŸãŒå´©ã‚Œã‚‹æ˜¥ã®æ¯å¹ã€‚"],["é›ªã¨ã‘ã¦","æ‘ä¸€ã±ã„ã®","å­ã©ã‚‚ã‹ãª","ä¸€èŒ¶","é›ªè§£ã‘ã®å–œã³ã¨å­ä¾›ãŸã¡ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã€‚"],["ãŸã‚“ã½ã½ã‚„","æ—¥ã¯ã„ã¤ã¾ã§ã‚‚","å¤§ç©ºã«","æ±€å¥³","ã‚¿ãƒ³ãƒãƒã¨æ˜¥ã®å¤ªé™½ã®ã®ã©ã‹ãªé–¢ä¿‚ã€‚"],["å±±ç¬‘ãµ","æ˜¨æ—¥ã®é›¨ã«","æ¿¡ã‚ŒãªãŒã‚‰","å­è¦","é›¨ä¸ŠãŒã‚Šã§èŠ½å¹ããŒé®®ã‚„ã‹ãªæ˜¥ã®å±±ã€‚"],["ãµã‚‰ã“ã‚ã«","ä¼šé‡ˆã—ã¦é£›ã¶","é›€ã‹ãª","å­è¦","ãƒ–ãƒ©ãƒ³ã‚³ï¼ˆãµã‚‰ã“ã“ï¼‰ã¨é›€ã®æ„›ã‚‰ã—ã„å¥ã€‚"],["æ˜¥ã®æµ·","çµ‚æ—¥ã®ãŸã‚Š","ã®ãŸã‚Šã‹ãª","è•ªæ‘","æ˜¥ã®æµ·ã®ã‚†ã£ãŸã‚Šã¨ã—ãŸã†ã­ã‚Šã€‚"],["é›€ã®å­","ãã“ã®ã‘ãã“ã®ã‘","ãŠé¦¬ãŒé€šã‚‹","ä¸€èŒ¶","å¼±ãã‚‚ã®ï¼ˆé›€ï¼‰ã‚’å®ˆã‚ã†ã¨ã™ã‚‹å„ªã—ã•ã€‚"],["æ²ˆä¸ã®","é¦™ã®çŸ³éšã«","ä½‡ã¿ã¬","è™šå­","æ²ˆä¸èŠ±ã®é¦™ã‚Šã«èª˜ã‚ã‚Œã¦è¶³ã‚’æ­¢ã‚ã‚‹ã€‚"],["æ˜¥é›¨ã‚„","ã‚‚ã®ãŒãŸã‚Šã‚†ã","è“‘ã¨å‚˜","è•ªæ‘","æ˜¥é›¨ã®ä¸­ã‚’è¡Œãäººã¨äººã®ç‰©èªæ€§ã€‚"]],
    4: [["ã•ã¾ã–ã¾ãª","äº‹ãŠã‚‚ã²å‡ºã™","æ¡œã‹ãª","èŠ­è•‰","æ¡œã‚’è¦‹ã‚‹ã¨éå»ã®è¨˜æ†¶ãŒè˜‡ã‚‹ã€‚"],["èŠ±ã„ã‹ã ","ç­ã®å¸«å¼Ÿ","ä¹—ã‚Šã‚ã‚ã›","è•ªæ‘","æ•£ã£ãŸèŠ±ã³ã‚‰ãŒæµã‚Œã‚‹ç¾ã—ã„æƒ…æ™¯ã€‚"],["æ•£ã‚‹æ¡œ","æ®‹ã‚‹æ¡œã‚‚","æ•£ã‚‹æ¡œ","è‰¯å¯›","ä»Šå’²ã„ã¦ã„ã‚‹èŠ±ã‚‚ã‚„ãŒã¦æ•£ã‚‹ç„¡å¸¸è¦³ã€‚"],["ä¹…æ–¹ã®","å…‰ã®ã©ã‘ã","æ˜¥ã®æ—¥ã«","ç´€å‹å‰‡","ï¼ˆçŸ­æ­Œï¼‰æ¡œãŒæ•£ã‚‹æ˜¥ã®æ—¥ã®è½ã¡ç€ã‹ãªã•ã€‚"],["è¦‹ä¸Šã’ã‚Œã°","æ¡œã—ãã‚Œã‚„","ç¥ã®åº­","ä¸è©³","ç¥ç¤¾ã«é™ã‚Šæ³¨ãæ¡œã®èŠ±ã³ã‚‰ã€‚"],["æœ§æœˆ","è›™ã«æ¿ã‚‹","æ°´ã‚„ç©º","è•ªæ‘","æœ§æœˆå¤œã®å¹»æƒ³çš„ãªé›°å›²æ°—ã¨è›™ã®å£°ã€‚"],["æ˜¥æ„ã‚„","äººå‹•ã‹ã–ã‚‹","é›»è»Šã®ä¸­","è‰ç”°ç”·","æ˜¥ã®æ†‚é¬±ã¨é›»è»Šã®æ²ˆé»™ã®å…±é³´ã€‚"],["å…¥å­¦ã®","å­ç­‰ã®åˆ—ã‚†ã","æ¡œé“","ç¾ä»£","æ–°å…¥ç”Ÿã®å¸Œæœ›ã«æº€ã¡ãŸç™»æ ¡é¢¨æ™¯ã€‚"],["èŠ±ã®é›²","é˜ã¯ä¸Šé‡ã‹","æµ…è‰ã‹","èŠ­è•‰","æº€é–‹ã®æ¡œã‚’é›²ã«ä¾‹ãˆãŸæ±Ÿæˆ¸ã®è³›æ­Œã€‚"],["è¡Œãæ˜¥ã‚„","é³¥å•¼ãé­šã®","ç›®ã¯æ³ª","èŠ­è•‰","éãã‚†ãæ˜¥ã‚’æƒœã—ã‚€åˆ¥ã‚Œã®å¥ã€‚"],["èŠ±å†·ãˆã®","èº«ã‚’å¯„ã›åˆã†ã¦","ãƒã‚¹ã‚’å¾…ã¤","ä¸è©³","æ¡œã®æ™‚æœŸã®è‚Œå¯’ã•ã¨äººã®æ¸©ã‚‚ã‚Šã€‚"],["é¢¨æµã®","åˆã‚ã‚„å¥¥ã®","ç”°æ¤ãˆæ­Œ","èŠ­è•‰","ã¿ã¡ã®ãã®æ—…ã®å§‹ã¾ã‚Šã®é«˜æšæ„Ÿã€‚"]],
    5: [["äº”æœˆé›¨ã‚’","ã‚ã¤ã‚ã¦æ—©ã—","æœ€ä¸Šå·","èŠ­è•‰","æ¢…é›¨æ™‚ã®æœ€ä¸Šå·ã®æ¿€æµã®è¿«åŠ›ã€‚"],["ç›®ã«ã¯é’è‘‰","å±±ã»ã¨ã¨ãã™","åˆé°¹","ç´ å ‚","è¦–è¦šãƒ»è´è¦šãƒ»å‘³è¦šã§æ¥½ã—ã‚€åˆå¤ã€‚"],["è–«é¢¨ã‚„","çµ¶ãˆãšå´©ã‚‹ã‚‹","æ³¢ã®ç©‚ã«","èŠ±è“‘","é¢¨è–«ã‚‹æµ·è¾ºã®çˆ½ã‚„ã‹ãªç™½æ³¢ã€‚"],["æ–°ç·‘ã‚„","ã‚ãµã‚Œã‚“ã°ã‹ã‚Šã®","é™½ã®å…‰","ä¸è©³","æ–°ç·‘ã¨å¤ªé™½ã®ã¾ã¶ã—ã„ç”Ÿå‘½åŠ›ã€‚"],["ç”°æ¤ã†ã‚‹ã‚„","èƒŒä¸­ã«ã†ãŸã†","å­å®ˆå”„","ä¸è©³","ç”°æ¤ãˆã‚’ã™ã‚‹æ¯ã®èƒŒä¸­ã®æ¸©ã‹ã•ã€‚"],["ä¸æ€§ã•ã‚„","ã‹ãèµ·ã•ã‚Œã—","æ˜¥ã®é›¨","ä¸€èŒ¶","å¯èµ·ãã‚’èµ·ã“ã•ã‚ŒãŸä¸€èŒ¶ã®ã¼ã‚„ãã€‚"],["çŸ­å¤œã‚„","æ¯›è™«ã®ä¸Šã«","éœ²ã®ç‰","è•ªæ‘","çŸ­ã„å¤ã®å¤œæ˜ã‘ã€æ¯›è™«ã®ä¸Šã®ç¾ã—ã„éœ²ã€‚"],["å²©èº‘èº…","æŸ“ã‚ã¦æµã‚‹ã‚‹","è°·ã®æ°´","å­è¦","èµ¤ã„ãƒ„ãƒ„ã‚¸ãŒè°·å·ã‚’æŸ“ã‚ã‚‹ã‚ˆã†ã«å’²ãã€‚"],["ç‰¡ä¸¹æ•£ã‚Šã¦","æ‰“ã‹ã•ãªã‚Šã¬","äºŒä¸‰ç‰‡","è•ªæ‘","ç‰¡ä¸¹ã®èŠ±ã³ã‚‰ãŒé‡ãªã£ã¦æ•£ã‚‹ç¾ã—ã•ã€‚"],["ä¸‡ç·‘ã®","ä¸­ã‚„å¾å­ã®","æ­¯ç”Ÿãˆåˆã‚€","è‰ç”°ç”·","åœ§å€’çš„ãªç·‘ã¨å­ã®æˆé•·ã®å¯¾æ¯”ã€‚"],["æŸ¿è‹¥è‘‰","ç”Ÿãã‚‹æœ›ã¿ã‚’","æ–°ã«ã™","å­è¦","æŸ¿ã®è‹¥è‘‰ã®è¼ãã«ç”Ÿãã‚‹åŠ›ã‚’å¾—ã‚‹ã€‚"],["é¯‰å¹Ÿ","å¤•é¢¨å¼·ã","ãªã‚Šã«ã‘ã‚Š","è™šå­","å¤•é¢¨ã«æ³³ãé¯‰ã®ã¼ã‚Šã®åŠ›å¼·ã•ã€‚"]],
    6: [["ç´«é™½èŠ±ã‚„","å¸·å­æ™‚ã®","è–„æµ…é»„","èŠ­è•‰","ç´«é™½èŠ±ã®è‰²ã¨å¤ç€ç‰©ã®æ¶¼ã—ã’ãªè‰²ã€‚"],["æ¢…é›¨æ™´ã‚Œã‚„","ã¨ã“ã‚ã©ã“ã‚ã«","èŸ»ã®é“","å­è¦","é›¨ä¸ŠãŒã‚Šã®åœ°é¢ã«èŸ»ãŒå‡ºã¦ããŸæ§˜å­ã€‚"],["é›¨è›™","èŠ­è•‰ã«ã®ã‚Šã¦","ãã‚ˆãã‘ã‚Š","å…¶è§’","å¤§ããªè‘‰ã«ä¹—ã‚‹å°ã•ãªé›¨è›™ã€‚"],["äº”æœˆé›¨ã‚„","å¤§æ²³ã‚’å‰ã«","å®¶äºŒè»’","è•ªæ‘","å¢—æ°´ã—ãŸå¤§æ²³ã¨å°ã•ãªå®¶ã®å¯¾æ¯”ã€‚"],["è¸ç‰›","ãã‚ãã‚ç™»ã‚Œ","å¯Œå£«ã®å±±","ä¸€èŒ¶","å°ã•ãªã‚«ã‚¿ãƒ„ãƒ ãƒªã¸ã®å¿œæ´æ­Œã€‚"],["ç´«é™½èŠ±ã‚„","æ˜¨æ—¥ã®èª ","ä»Šæ—¥ã®å˜˜","å­è¦","è‰²ãŒå¤‰åŒ–ã™ã‚‹ç´«é™½èŠ±ã®ä¸æ€è­°ã•ã€‚"],["å¤•ç«‹ã‚„","è‰è‘‰ã‚’æ´ã‚€","æ‘é›¨ã®","ä¸è©³","æ¿€ã—ã„å¤•ç«‹ã®é›¨è„šã®å¼·ã•ã€‚"],["å¤è‰ã‚„","å…µã©ã‚‚ãŒ","å¤¢ã®è·¡","èŠ­è•‰","å¤æˆ¦å ´ã®è‰ã«å„šã„å¤¢ã‚’è¦‹ã‚‹ã€‚"],["é’æ¢…ã«","çœ‰ã‚ã¤ã‚ãŸã‚‹","ç¾äººã‹ãª","èŠ­è•‰","é…¸ã£ã±ã„é’æ¢…ã‚’é£Ÿã¹ãŸè¡¨æƒ…ã€‚"],["é›·ã®","éŸ³ã«æ€¯ãˆã‚‹","å­çŠ¬ã‹ãª","ä¸è©³","é›·ã‚’æ€–ãŒã‚‹å­çŠ¬ã®æ„›ã‚‰ã—ã•ã€‚"],["é–‘ã•ã‚„","å²©ã«ã—ã¿å…¥ã‚‹","è‰ã®å£°","èŠ­è•‰","é™å¯‚ã¨è‰ã®å£°ã®æŸ“ã¿å…¥ã‚‹æ„Ÿè¦šã€‚"],["è›ç«ã®","æ˜æ»…æ»…æ»…","æ˜æ»…ã™","çˆ½æ³¢","è›ã®å…‰ã®ãƒªã‚ºãƒ ã‚’æ–‡å­—ã§è¡¨ç¾ã€‚"]],
    7: [["é–‘ã•ã‚„","å²©ã«ã—ã¿å…¥ã‚‹","è‰ã®å£°","èŠ­è•‰","ï¼ˆå†æ²ï¼‰å¤ã®é™å¯‚ã®ä»£è¡¨å¥ã€‚"],["å¤©ã®å·","ä¸€ç­‹ãªãŒã‚Œ","ã¬ã‚‹å¤œã‹ãª","åƒä»£å¥³","å¤©ã®å·ãŒè¦‹ãˆã‚‹ç¾ã—ã„å¤ã®å¤œã€‚"],["å¤æ²³ã‚’","è¶Šã™ã†ã‚Œã—ã•ã‚ˆ","æ‰‹ã«è‰å±¥","è•ªæ‘","å†·ãŸã„å·ã‚’æ¸¡ã‚‹å¤ã®å–œã³ã€‚"],["è’æµ·ã‚„","ä½æ¸¡ã«ã‚ˆã“ãŸãµ","å¤©ã®å·","èŠ­è•‰","è’ã‚Œã‚‹æ—¥æœ¬æµ·ã¨é›„å¤§ãªå¤©ã®å·ã€‚"],["æ¶¼ã—ã•ã‚„","é˜ã‚’ã¯ãªã‚‹ã‚‹","é˜ã®å£°","è•ªæ‘","é˜ã®éŸ³ãŒç©ºæ°—ã‚’æ¶¼ã—ãã™ã‚‹æ„Ÿè¦šã€‚"],["å¤•é¡”ã«","ã‹ã‚“ã´ã‚‡ã†å‰¥ãã‚„","å¥³æˆ¿é”","èŠ­è•‰","å¤•æš®ã‚Œã®ä½œæ¥­é¢¨æ™¯ã®ç©ã‚„ã‹ã•ã€‚"],["ç“œã®çš®","ã‚€ã„ãŸæ‰€ã¸","åˆä¸€æš","ä¸€èŒ¶","ç“œã‚’é£Ÿã¹ã‚‹æ¬¡ã€…ã¨ã—ãŸå‹•ä½œã€‚"],["ç™½ç‰¡ä¸¹","ã¨ã„ãµã¨ã„ã¸ã©ã‚‚","ç´…ã»ã®ã‹","è™šå­","çœŸã£ç™½ãªç‰¡ä¸¹ã®ã»ã®ã‹ãªç´…ã€‚"],["å¤ã®æœˆ","å¾¡æ²¹ã‚ˆã‚Šå‡ºã§ã¦","èµ¤å‚ã‚„","èŠ­è•‰","æ±æµ·é“ã®å®¿å ´ç”ºã«ã‹ã‹ã‚‹æœˆã€‚"],["ä¸ƒå¤•ã®","çŸ­å†Šæºã‚Œã‚‹","é¢¨ã®é“","ä¸è©³","çŸ­å†ŠãŒé¢¨ã«æºã‚Œã‚‹é¡˜ã„ã®é¢¨æ™¯ã€‚"],["ç‚å¤©ã‚’","æ§ã®ã”ã¨ãã«","æ¶¼æ°—ã‹ãª","å­è¦","çŒ›æš‘ã®ä¸­ã®ä¸€ç­‹ã®æ¶¼ã—ã•ã€‚"],["é‡‘é­šç‰","ã¨ã‚Šè½ã¨ã—ãªã°","æ°´ã®æ³¡","å­è¦","é‡‘é­šé‰¢ã®å„šã•ã¨æ¶¼ã—ã•ã€‚"]],
    8: [["æœé¡”ã«","é‡£ç“¶ã¨ã‚‰ã‚Œã¦","ã‚‚ã‚‰ã²æ°´","åƒä»£å¥³","æœé¡”ã®è”“ã‚’åˆ‡ã‚‰ãšã«æ°´ã‚’è²°ã†å„ªã—ã•ã€‚"],["ç§‹æ·±ã","éš£ã¯ä½•ã‚’","ã™ã‚‹äººã","èŠ­è•‰","ç§‹ã®å¯‚ã—ã•ã¨éš£äººã¸ã®é–¢å¿ƒã€‚"],["é€ç«ã‚„","ã‚ãµãäººç­‰ã¯","ã¿ãªé™ã‹","è™šå­","é€ã‚Šç«ã‚’è¦‹é€ã‚‹äººã€…ã®ç¥ˆã‚Šã€‚"],["å¢“å‚ã‚Š","ã‚ã®å­ã‚‚æ¥ãŸã¨","é¢¨ãŒå¹ã","ä¸è©³","äº¡ãå­ã‚’æ„Ÿã˜ã‚‹å¢“å‚ã‚Šã®é¢¨ã€‚"],["ã²ãã‚‰ã—ã‚„","æ€¥ã«æ˜ã‚‹ã","æ¹–ã®æ°´","ä¸è©³","èœ©ã®å£°ã¨å¤•æš®ã‚Œã®æ¹–é¢ã€‚"],["ç§‹æ¥ã¬ã¨","ç›®ã«ã¯ã•ã‚„ã‹ã«","è¦‹ãˆã­ã©ã‚‚","æ•è¡Œ","é¢¨ã®éŸ³ã«ç§‹ã®åˆ°æ¥ã‚’æ„Ÿã˜ã‚‹ã€‚"],["èµ¤ã¨ã‚“ã¼","ç­‘æ³¢ã«é›²ã‚‚","ãªã‹ã‚Šã‘ã‚Š","å­è¦","èµ¤ã¨ã‚“ã¼ã¨å¿«æ™´ã®ç­‘æ³¢å±±ã€‚"],["ç‰©è¨€ã¸ã°","å”‡å¯’ã—","ç§‹ã®é¢¨","èŠ­è•‰","ä½™è¨ˆãªã“ã¨ã‚’è¨€ã£ãŸå¾Œã®å¾Œæ‚”ã¨ç§‹é¢¨ã€‚"],["ç¨²å¦»ã‚„","é—‡ã®æ–¹è¡Œã","äº”ä½ã®å£°","èŠ­è•‰","é—‡å¤œã®ç¨²å¦»ã¨é³¥ã®å£°ã€‚"],["åæœˆã‚’","ã¨ã£ã¦ãã‚Œã‚ã¨","æ³£ãå­ã‹ãª","ä¸€èŒ¶","æœˆã‚’æ¬²ã—ãŒã‚‹å­ã®ç´”çœŸã•ã€‚"],["ç§‹ã®å¤œã‚„","æ—…ã®ç”·ã®","é‡ä»•äº‹","è•ªæ‘","æ—…å®¿ã§æœã‚’ç›´ã™ç”·ã®å“€æ„ã€‚"],["æ¢¨é£Ÿã†ã¦","åˆ¥ã‚‹ã‚‹æ—…ã®","å¿ƒã‹ãª","å­è¦","æ¢¨ã®ç‘ã€…ã—ã•ã¨åˆ¥ã‚Œã®å¯‚ã—ã•ã€‚"]],
    9: [["åæœˆã‚„","æ± ã‚’ã‚ãã‚Šã¦","å¤œã‚‚ã™ãŒã‚‰","èŠ­è•‰","åæœˆã®ç¾ã—ã•ã«ä¸€æ™©ä¸­æ± ã‚’å›ã‚‹ã€‚"],["ã¨ã‚“ã¼é‡£ã‚Š","ä»Šæ—¥ã¯ã©ã“ã¾ã§","è¡Œã£ãŸã‚„ã‚‰","åƒä»£å¥³","äº¡ãå­ã‚’æ€ã†åˆ‡ãªã„æ¯å¿ƒã€‚"],["ç§‹ã®ç”°ã®","ã‹ã‚Šã»ã®åºµã®","è‹«ã‚’ã‚ã‚‰ã¿","å¤©æ™º","ç§‹ã®è¾²ä½œæ¥­å°å±‹ã®å¯‚ã—ã•ã€‚"],["èŠã®é¦™ã‚„","å¥ˆè‰¯ã«ã¯å¤ã","ä»é”","èŠ­è•‰","èŠã®é¦™ã‚Šã¨å¥ˆè‰¯ã®ä»åƒã®èª¿å’Œã€‚"],["æ˜Ÿæœˆå¤œ","ç©ºã®åºƒã•ã‚’","çŸ¥ã‚Šã«ã‘ã‚Š","ä¸è©³","æ˜Ÿã¨æœˆãŒè¼ãå¤œç©ºã®åºƒå¤§ã•ã€‚"],["æœˆå¤©å¿ƒ","è²§ã—ãç”ºã‚’","é€šã‚Šã‘ã‚Š","è•ªæ‘","çœŸä¸Šã®æœˆãŒè²§ã—ã„ç”ºã‚’ç…§ã‚‰ã™ã€‚"],["æ¡ˆå±±å­","è¢–ã ã‚‰ã‚Šã¨","æ¿¡ã‚Œã«ã‘ã‚Š","ä¸è©³","é›¨ã«æ¿¡ã‚ŒãŸæ¡ˆå±±å­ã®å“€æ„ã€‚"],["ç§‹é¢¨ã®","å¹ãæŠœã‘ã‚‹é“","ä¸€äººæ—…","ä¸è©³","ç§‹é¢¨ã®ä¸­ã‚’è¡Œãå­¤ç‹¬ãªæ—…ã€‚"],["éˆ´è™«ã®","éŸ³ã«èãå…¥ã‚‹","å¤œé•·ã‹ãª","ä¸è©³","ç§‹ã®å¤œé•·ã¨è™«ã®å£°ã€‚"],["ç§‹æ¡œ","æºã‚Œã¦å¥ã§ã‚‹","é¢¨ã®æ­Œ","ä¸è©³","ã‚³ã‚¹ãƒ¢ã‚¹ãŒé¢¨ã«æºã‚Œã‚‹æ§˜ã€‚"],["ä¸‰æ—¥æœˆã‚„","åœ°ã¯ãŠã¼ã‚ãªã‚‹","è•éº¦ã®è‚Œ","èŠ­è•‰","ä¸‰æ—¥æœˆã®å…‰ã¨ç™½ã„è•éº¦ã®èŠ±ã€‚"],["ç§‹æ‰‡","ç½®ãã‚„ç¾äººã®","è†ã®ä¸Š","å­è¦","ä½¿ã‚ãªããªã£ãŸç§‹ã®æ‰‡ã®é™ã‘ã•ã€‚"]],
    10: [["æŸ¿ãã¸ã°","é˜ãŒé³´ã‚‹ãªã‚Š","æ³•éš†å¯º","å­è¦","æŸ¿ã€é˜ã€æ³•éš†å¯ºã€‚ç§‹ã®æ—…æƒ…ã®æ¥µã¿ã€‚"],["ç§‹ã®æš®","çƒã®æ­¢ã¾ã‚Šã‘ã‚Š","æ¯ã‚Œæã«","èŠ­è•‰","å¤•æš®ã‚Œã®æ¯ã‚Œæœ¨ã¨ã‚«ãƒ©ã‚¹ã®å¢¨çµµçš„é¢¨æ™¯ã€‚"],["è¡Œãç§‹ã‚„","èº«ã«ã¾ã¨ã†ãŸã‚‹","ä¸‰å°ºã®","å­è¦","éãã‚†ãç§‹ã¨è‡ªåˆ†ã®å¸¯ï¼ˆä¸‰å°ºï¼‰ã®å¯‚ã—ã•ã€‚"],["ç´…è‘‰ã›ã‚Š","å¡”ã®å¤ã•ã«","ç…§ã‚Šæ˜ ãˆã¦","ä¸è©³","ç´…è‘‰ã¨å¤å¡”ã®ç¾ã—ã„å¯¾æ¯”ã€‚"],["ç§‹é›¨ã‚„","æ°´åº•ã®çŸ³","ã‚ã–ã‚„ã‹ã«","ä¸è©³","é›¨ã«æ¿¡ã‚Œã¦é®®ã‚„ã‹ã«è¦‹ãˆã‚‹æ°´åº•ã€‚"],["æ —é£¯ã®","æ¹¯æ°—ç«‹ã¡ã®ã¼ã‚‹","å¤•é¤‰ã‹ãª","ä¸è©³","ç§‹ã®å‘³è¦šã€æ —ã”é£¯ã®æ¸©ã‹ã•ã€‚"],["é°¯é›²","äººã«å‘Šãã¹ã","ã“ã¨ãªã‚‰ãš","æ¥¸é‚¨","è¨€ãˆãªã„æ‚©ã¿ã‚’æŠ±ãˆãŸå¿ƒã¨é°¯é›²ã€‚"],["ã©ã‚“ãã‚Šã‚„","é ã„ãŠå±±ã®","ãŠåœŸç”£ã«","ä¸è©³","å­ä¾›ãŒæ‹¾ã£ãŸã©ã‚“ãã‚Šã®å¯æ„›ã•ã€‚"],["æœ¨æ¯ã‚‰ã—ã‚„","ç›®åˆºã«ã®ã“ã‚‹","æµ·ã®è‰²","èŠ¥å·","å¹²ç‰©ã®ç›®åˆºã—ã«æ®‹ã‚‹æµ·ã®é’ã•ã€‚"],["é‹å‹•ä¼š","ç ‚åŸƒã‚ã’","èµ°ã‚ŠæŠœã","ä¸è©³","ç§‹ã®é‹å‹•ä¼šã®èºå‹•æ„Ÿã€‚"],["ç§‹æ·±ã—","é™ã‹ã«æœ¬ã‚’","èª­ã‚€å¤œã‹ãª","ä¸è©³","èª­æ›¸ã®ç§‹ã®é™ã‹ãªå¤œã€‚"],["é¹¿ã®éŸ³ã®","é ãéŸ¿ãã‚„","ç§‹ã®å±±","ä¸è©³","ç§‹ã®å±±ã«éŸ¿ãé¹¿ã®é³´ãå£°ã€‚"]],
    11: [["æ—…ã«ç—…ã‚“ã§","å¤¢ã¯æ¯é‡ã‚’","ã‹ã‘å»»ã‚‹","èŠ­è•‰","èŠ­è•‰ã®è¾ä¸–ã®å¥ã€‚é­‚ã®å½·å¾¨ã€‚"],["å±±èŒ¶èŠ±ã®","ã“ã“ã‚’å¢“ã¨","å’²ãã«ã‘ã‚Š","æ¼±çŸ³","æ•£ã‚Šæ•·ãå±±èŒ¶èŠ±ã®ç¾ã¨æ­»ç”Ÿè¦³ã€‚"],["åˆæ™‚é›¨","çŒ¿ã‚‚å°è“‘ã‚’","æ¬²ã—ã’ãªã‚Š","èŠ­è•‰","å¯’ãã†ãªçŒ¿ã¸ã®å…±æ„Ÿã¨å†¬ã®è¨ªã‚Œã€‚"],["å‡©ã®","åœ°ã«ã‚‚è½ã¨ã•ã¬","æ™‚é›¨ã‹ãª","èŠ­è•‰","é¢¨ãŒå¼·ã™ãã¦é›¨ç²’ã‚‚è½ã¡ãªã„æ¿€ã—ã•ã€‚"],["ç¥ç„¡æœˆ","ç¥ã‚‚æ—…ç«‹ã¤","å‡ºé›²ã‹ãª","ä¸è©³","ç¥ã€…ãŒå‡ºé›²ã¸å»ã‚‹ç¥ç„¡æœˆã®é¢¨æƒ…ã€‚"],["å†¬æ¯ã‚Œã‚„","é›€ã®éš ã‚Œ","å ´æ‰€ã‚‚ãªã—","ä¸è©³","å†¬ã®é‡ã®è’æ¶¼ã•ã¨é›€ã€‚"],["å¤§æ ¹ã®","ç™½ã•éš›ç«‹ã¤","åœŸã®ä¸Š","ä¸è©³","åç©«ã•ã‚ŒãŸå¤§æ ¹ã®é®®ã‚„ã‹ãªç™½ã€‚"],["ä¸ƒäº”ä¸‰","åƒæ­³é£´æŒã¤","å­ã®ç¬‘é¡”","ä¸è©³","å­ä¾›ã®æˆé•·ã‚’ç¥ã†æ™´ã‚Œå§¿ã€‚"],["æ‰‹è¢‹ã‚’","è„±ãæ‰‹ã‚‚æƒœã—ã","å¯’ã•ã‹ãª","ä¸è©³","æ‰‹è¢‹ã‚’å¤–ã™ã®ã‚‚è¾›ã„å¯’ã•ã€‚"],["è½è‘‰æƒã","çµ‚ã‚ã£ã¦é¢¨ã®","ã¾ãŸè½ã¨ã™","ä¸è©³","æƒã„ã¦ã‚‚ãã‚ŠãŒãªã„è½ã¡è‘‰ã®é¢¨æƒ…ã€‚"],["çŸ­æ—¥ã‚„","æ³¢éŸ³é«˜ã","ãªã‚Šã«ã‘ã‚Š","ä¸è©³","å†¬ã®çŸ­ã„æ—¥ã¨è’ã„æµ·ã€‚"],["å†¬ã®æœˆ","è™«ã®éŸ³çµ¶ãˆã¦","é™ã‹ãªã‚Š","ä¸è©³","è™«ã‚‚ã„ãªã„é™å¯‚ã®å†¬ã®æœˆã€‚"]],
    12: [["é›ªã¨ã‘ã¦","æ‘ä¸€ã±ã„ã®","å­ã©ã‚‚ã‹ãª","ä¸€èŒ¶","é›ªè§£ã‘ã‚’å–œã¶å­ä¾›ãŸã¡ã®ç”Ÿå‘½åŠ›ã€‚"],["é™¤å¤œã®é˜","è…¹ã«ã²ã³ãã‚„","éª¨ã«å‡ã‚€","ä¸è©³","å¯’ã•ã¨å…±ã«éŸ¿ãé™¤å¤œã®é˜ã®é‡ã¿ã€‚"],["åˆé›ªã‚„","æ°´ä»™ã®è‘‰ã®","ãŸã‚ã‚€ã¾ã§","èŠ­è•‰","æ°´ä»™ã‚’ãŸã‚ã¾ã›ã‚‹åˆé›ªã®é‡ã•ã€‚"],["å†¬ã®å¤œã‚„","é‡ä»•äº‹ã™ã‚‹","æ¯ã®å½±","ä¸è©³","å†¬ã®å¤œãªã¹ã‚’ã™ã‚‹æ¯ã®æ¸©ã‹ã•ã€‚"],["å¯’æ¤¿","è½ã¡ã¦æ¿€ã—ã","èµ¤ã•ã‹ãª","ä¸è©³","é›ªã®ä¸Šã«è½ã¡ãŸæ¤¿ã®é®®çƒˆãªèµ¤ã€‚"],["ä¸€é™½æ¥å¾©","å†¬è‡³ã®å—ç“œ","é£Ÿã¿ã«ã‘ã‚Š","ä¸è©³","å†¬è‡³ã«ã‹ã¼ã¡ã‚ƒã‚’é£Ÿã¹ã‚‹é¢¨ç¿’ã€‚"],["å¤§æ™¦æ—¥","å€Ÿé‡‘å–ã‚Šã‚‚","æ¥ã¬ã”ã¨ã—","ä¸è©³","å¤§æ™¦æ—¥ã®é™ã‘ã•ã¨å®‰å µã€‚"],["ã‚¯ãƒªã‚¹ãƒã‚¹","è¡—ã®ç¯ã‚Šã‚‚","è¯ã‚„ã’ã‚Š","ä¸è©³","å†¬ã®è¡—ã‚’å½©ã‚‹ã‚¯ãƒªã‚¹ãƒã‚¹ã®ç¯ã‚Šã€‚"],["å†¬ç± ã‚Š","åˆã‚ˆã‚Šãã¯ã‚“","ã“ã®æŸ±","èŠ­è•‰","ä½ã¿æ…£ã‚ŒãŸå®¶ã§ã®å†¬ã”ã‚‚ã‚Šã€‚"],["å¹´æš®ã‚Œã¬","ç¬ ãã¦è‰å±¥","ã¯ããªãŒã‚‰","èŠ­è•‰","å¿™ã—ãç«‹ã¡åƒãå¹´æœ«ã®æ§˜å­ã€‚"],["å¯’èŠã‚„","ç²‰ç³ ã®ã‹ã‹ã‚‹","è‡¼ã®ç«¯","èŠ­è•‰","ç”Ÿæ´»æ„Ÿã®ã‚ã‚‹è‡¼ã¨å¯’èŠã®å–ã‚Šåˆã‚ã›ã€‚"],["å†¬æœ¨ç«‹","æœˆéª¨ã¨ãªã‚‹","å¤œåŠã‹ãª","ä¸è©³","è‘‰ã®ãªã„æœ¨ã€…ã¨å†·ãŸã„æœˆã®éª¨ã£ã½ã•ã€‚"]]
};

// å­£èªãƒ‡ãƒ¼ã‚¿ (12ãƒ¶æœˆx20èª=240èª)
const KIGO_DB = {
    1: [["æ–°å¹´","ã—ã‚“ã­ã‚“","æ–°ã—ã„å¹´ã‚’è¿ãˆã‚‹"],["åˆæ—¥ã®å‡º","ã¯ã¤ã²ã®ã§","å…ƒæ—¦ã®æ—¥ã®å‡º"],["é–€æ¾","ã‹ã©ã¾ã¤","æ–°å¹´ã®é£¾ã‚Š"],["ãŠã›ã¡","ãŠã›ã¡","æ­£æœˆã®ç¥ã„æ–™ç†"],["ç¦ç¬‘ã„","ãµãã‚ã‚‰ã„","æ­£æœˆã®éŠã³"],["ä¸ƒè‰","ãªãªãã•","1æœˆ7æ—¥ã®ç²¥"],["å¯’ã®å…¥ã‚Š","ã‹ã‚“ã®ã„ã‚Š","å¯’ã•ãŒæœ¬æ ¼åŒ–"],["å†¬å°†è»","ãµã‚†ã—ã‚‡ã†ãã‚“","å³ã—ã„å¯’ã•"],["é›ªè¦‹","ã‚†ãã¿","é›ªã‚’çœºã‚ã‚‹"],["æ¯é‡","ã‹ã‚Œã®","å†¬ã®é‡åŸ"],["åˆè©£","ã¯ã¤ã‚‚ã†ã§","æ–°å¹´ã®å‚æ‹"],["é¡é¤…","ã‹ãŒã¿ã‚‚ã¡","ä¾›ãˆã‚‹é¤…"],["é›‘ç…®","ãã†ã«","é¤…å…¥ã‚Šæ±ç‰©"],["æ›¸ãåˆã‚","ã‹ããã‚","æ–°å¹´ã®æ›¸é“"],["æ­Œç•™å¤š","ã‹ã‚‹ãŸ","ã‚«ãƒ¼ãƒ‰éŠã³"],["é›ªã ã‚‹ã¾","ã‚†ãã ã‚‹ã¾","é›ªã®äººå½¢"],["å¯’æ¤¿","ã‹ã‚“ã¤ã°ã","å†¬ã®æ¤¿"],["ãƒã‚¹ã‚¯","ã¾ã™ã","é¢¨é‚ªäºˆé˜²"],["æˆäººå¼","ã›ã„ã˜ã‚“ã—ã","äºŒåæ­³ã®ç¥ã„"],["åˆå¤¢","ã¯ã¤ã‚†ã‚","å…ƒæ—¦ã®å¤¢"]],
    2: [["ç«‹æ˜¥","ã‚Šã£ã—ã‚…ã‚“","æ˜¥ã®å§‹ã¾ã‚Š"],["æ¢…","ã†ã‚","é¦™ã‚Šã®è‰¯ã„èŠ±"],["é¶¯","ã†ãã„ã™","æ˜¥å‘Šã’é³¥"],["æ˜¥ä¸€ç•ª","ã¯ã‚‹ã„ã¡ã°ã‚“","å¼·ã„å—é¢¨"],["é›ªè§£ã‘","ã‚†ãã©ã‘","æ˜¥ã®å…†ã—"],["ãƒãƒ¬ãƒ³ã‚¿ã‚¤ãƒ³","ã°ã‚Œã‚“ãŸã„ã‚“","æ„›ã®æ—¥"],["ä½™å¯’","ã‚ˆã‹ã‚“","æ®‹ã‚‹å¯’ã•"],["çŒ«ã®æ‹","ã­ã“ã®ã“ã„","çŒ«ã®æ±‚æ„›"],["ç¯€åˆ†","ã›ã¤ã¶ã‚“","è±†ã¾ã"],["ç´…æ¢…","ã“ã†ã°ã„","èµ¤ã„æ¢…"],["è–„æ°·","ã†ã™ã‚‰ã„","è–„ã„æ°·"],["å…¬é­š","ã‚ã‹ã•ã","æ°·ä¸Šã®é‡£ã‚Š"],["æ˜¥å¯’","ã¯ã‚‹ã•ã‚€","æ˜¥ã®å¯’ã•"],["æ°´ä»™","ã™ã„ã›ã‚“","å†¬æ˜¥ã®èŠ±"],["è•—ã®ã¨ã†","ãµãã®ã¨ã†","æ˜¥ã®å±±èœ"],["æ¶…æ§ƒä¼š","ã­ã¯ã‚“ãˆ","é‡ˆè¿¦ã®å¿Œæ—¥"],["æ—¥è„šä¼¸ã¶","ã²ã‚ã—ã®ã¶","æ—¥ãŒé•·ããªã‚‹"],["æ±é¢¨","ã“ã¡","æ˜¥ã®é¢¨"],["å—é¨“","ã˜ã‚…ã‘ã‚“","è©¦é¨“ã®å­£ç¯€"],["é‡ä¾›é¤Š","ã¯ã‚Šãã‚ˆã†","é‡ã¸ã®æ„Ÿè¬"]],
    3: [["é››ç¥­ã‚Š","ã²ãªã¾ã¤ã‚Š","æ¡ƒã®ç¯€å¥"],["å’æ¥­","ãã¤ãã‚‡ã†","åˆ¥ã‚Œã®æ™‚"],["æ˜¥åˆ†","ã—ã‚…ã‚“ã¶ã‚“","æ˜¼å¤œç­‰åˆ†"],["å½¼å²¸","ã²ãŒã‚“","å…ˆç¥–ä¾›é¤Š"],["æ²ˆä¸èŠ±","ã˜ã‚“ã¡ã‚‡ã†ã’","é¦™ã‚Šã®èŠ±"],["ã¤ãã—","ã¤ãã—","åœŸç­†"],["æ˜¥ã®é›¨","ã¯ã‚‹ã®ã‚ã‚","é™ã‹ãªé›¨"],["æ¡œé¤…","ã•ãã‚‰ã‚‚ã¡","æ˜¥ã®è“å­"],["æ˜¥çœ ","ã—ã‚…ã‚“ã¿ã‚“","æ˜¥ã®çœ æ°—"],["èœã®èŠ±","ãªã®ã¯ãª","é»„è‰²ã„èŠ±"],["å•“èŸ„","ã‘ã„ã¡ã¤","è™«ãŒå‡ºã‚‹"],["ç‡•","ã¤ã°ã‚","æ¸¡ã‚Šé³¥"],["å±±ç¬‘ã†","ã‚„ã¾ã‚ã‚‰ã†","æ˜¥ã®å±±"],["é™½ç‚","ã‹ã’ã‚ã†","ç©ºæ°—ã®æºã‚‰ã"],["è›™","ã‹ã‚ãš","ç›®è¦šã‚ãŸè›™"],["è«","ã™ã¿ã‚Œ","ç´«ã®èŠ±"],["ãŸã‚“ã½ã½","ãŸã‚“ã½ã½","é‡ã®èŠ±"],["æ˜¥é¢¨","ã¯ã‚‹ã‹ãœ","ç©ã‚„ã‹ãªé¢¨"],["ãƒ›ãƒ¯ã‚¤ãƒˆãƒ‡ãƒ¼","ã»ã‚ã„ã¨ã§ãƒ¼","è¿”ç¤¼ã®æ—¥"],["æ˜¥æœ","ã¯ã‚‹ãµã","è»½è£…"]],
    4: [["æ¡œ","ã•ãã‚‰","æ—¥æœ¬ã®èŠ±"],["å…¥å­¦","ã«ã‚…ã†ãŒã","æ–°ç”Ÿæ´»"],["èŠ±è¦‹","ã¯ãªã¿","æ¡œã®å®´"],["èŠ±å†·ãˆ","ã¯ãªã³ãˆ","èŠ±ã®å¯’ã•"],["æœ§æœˆ","ãŠã¼ã‚ã¥ã","æ˜¥ã®æœˆ"],["æ˜¥æ„","ã—ã‚…ã‚“ã—ã‚…ã†","æ˜¥ã®æ†‚ã„"],["ãƒãƒ¥ãƒ¼ãƒªãƒƒãƒ—","ã¡ã‚…ãƒ¼ã‚Šã£ã·","èŠ±å£‡ã®èŠ±"],["æ–°ç¤¾å“¡","ã—ã‚“ã—ã‚ƒã„ã‚“","æ–°ç¤¾ä¼šäºº"],["æ˜­å’Œã®æ—¥","ã—ã‚‡ã†ã‚ã®ã²","4æœˆ29æ—¥"],["æ˜¥ã®å®µ","ã¯ã‚‹ã®ã‚ˆã„","æ˜¥ã®å¤•æš®ã‚Œ"],["å±±å¹","ã‚„ã¾ã¶ã","é»„è‰²ã®èŠ±"],["ä»£æ»ã","ã—ã‚ã‹ã","ç”°ã®æº–å‚™"],["è‹¥è‰","ã‚ã‹ãã•","èŒãˆã‚‹è‰"],["è¶","ã¡ã‚‡ã†","èˆã†è™«"],["èŠ±ç­","ã¯ãªã„ã‹ã ","æ•£ã‚‹èŠ±"],["é™½æ°—","ã‚ˆã†ã","è‰¯ã„å¤©æ°—"],["è—¤","ãµã˜","ç´«ã®æˆ¿"],["ç‰¡ä¸¹","ã¼ãŸã‚“","è±ªè¯ãªèŠ±"],["æ½®å¹²ç‹©","ã—ãŠã²ãŒã‚Š","è²æ¡ã‚Š"],["GW","ã”ãƒ¼ã‚‹ã§ã‚“ã†ãƒãƒ¼ã","é€£ä¼‘"]],
    5: [["äº”æœˆæ™´ã‚Œ","ã•ã¤ãã°ã‚Œ","å¿«æ™´"],["ã“ã©ã‚‚ã®æ—¥","ã“ã©ã‚‚ã®ã²","ç«¯åˆã®ç¯€å¥"],["é¯‰ã®ã¼ã‚Š","ã“ã„ã®ã¼ã‚Š","ç©ºã®é¯‰"],["æ–°èŒ¶","ã—ã‚“ã¡ã‚ƒ","åˆæ‘˜ã¿èŒ¶"],["æ¯ã®æ—¥","ã¯ã¯ã®ã²","æ¯ã¸ã®æ„Ÿè¬"],["è–«é¢¨","ãã‚“ã·ã†","è‹¥è‘‰ã®é¢¨"],["ç”°æ¤ãˆ","ãŸã†ãˆ","ç¨²ã‚’æ¤ãˆã‚‹"],["å¯ã®èŠ±","ã†ã®ã¯ãª","ç™½ã„èŠ±"],["æŸé¤…","ã‹ã—ã‚ã‚‚ã¡","ç¯€å¥è“å­"],["æ–°ç·‘","ã—ã‚“ã‚Šã‚‡ã","é®®ã‚„ã‹ãªç·‘"],["åˆé°¹","ã¯ã¤ãŒã¤ãŠ","æ—¬ã®é­š"],["è–”è–‡","ã°ã‚‰","æ´‹èŠ±"],["ç«¹ã®å­","ãŸã‘ã®ã“","æ—¬ã®å‘³"],["è–äº”æœˆ","ã›ã„ã”ãŒã¤","ç¾ã—ã„5æœˆ"],["è–„æš‘","ã¯ãã—ã‚‡","å°‘ã—æš‘ã„"],["æ›´è¡£","ã“ã‚ã‚‚ãŒãˆ","å¤æœã¸"],["é’è‘‰","ã‚ãŠã°","èŒ‚ã‚‹è‘‰"],["ã‚«ãƒ¼ãƒãƒ¼ã‚·ãƒ§ãƒ³","ã‹ãƒ¼ã­ãƒ¼ã—ã‚‡ã‚“","æ¯ã®èŠ±"],["æ„›é³¥é€±é–“","ã‚ã„ã¡ã‚‡ã†ã—ã‚…ã†ã‹ã‚“","é³¥æ„›è­·"],["éº¦ç§‹","ã°ãã—ã‚…ã†","éº¦ã®åç©«"]],
    6: [["æ¢…é›¨","ã¤ã‚†","é•·é›¨"],["ç´«é™½èŠ±","ã‚ã˜ã•ã„","é›¨ã®èŠ±"],["çˆ¶ã®æ—¥","ã¡ã¡ã®ã²","çˆ¶ã¸ã®æ„Ÿè¬"],["è¸ç‰›","ã‹ãŸã¤ã‚€ã‚Š","é›¨ã®è™«"],["è›","ã»ãŸã‚‹","å…‰ã‚‹è™«"],["è¡£æ›¿ãˆ","ã“ã‚ã‚‚ãŒãˆ","å¤æœ"],["å¤è‡³","ã’ã—","é•·ã„æ˜¼"],["äº”æœˆé›¨","ã•ã¿ã ã‚Œ","æ¢…é›¨é›¨"],["é›·","ã‹ã¿ãªã‚Š","å¤•ç«‹å‰"],["é’æ¢…","ã‚ãŠã†ã‚","æ¢…é…’ç”¨"],["éº¦èŒ¶","ã‚€ãã¡ã‚ƒ","å†·ãŸã„èŒ¶"],["æ‰‡é¢¨æ©Ÿ","ã›ã‚“ã·ã†ã","å¤ã®é¢¨"],["å‚˜","ã‹ã•","é›¨å…·"],["è–è’²","ã‚ã‚„ã‚","æ°´è¾ºã®èŠ±"],["ç”°è‰å–ã‚Š","ãŸãã•ã¨ã‚Š","é™¤è‰"],["çŸ­å¤œ","ã¿ã˜ã‹ã‚ˆ","çŸ­ã„å¤œ"],["æ°´ç„¡æœˆ","ã¿ãªã¥ã","å’Œè“å­"],["è‹¥é®","ã‚ã‹ã‚ã‚†","å·é­š"],["èŠ±å«","ã˜ã‚…ãƒ¼ã‚“ã¶ã‚‰ã„ã©","6æœˆã®å©š"],["èŒ…ã®è¼ª","ã¡ã®ã‚","å¤è¶Šç¥“"]],
    7: [["ä¸ƒå¤•","ãŸãªã°ãŸ","æ˜Ÿç¥­ã‚Š"],["æµ·ã®æ—¥","ã†ã¿ã®ã²","æµ·ã®æ„Ÿè¬"],["æš‘ä¸­è¦‹èˆ","ã—ã‚‡ã¡ã‚…ã†ã¿ã¾ã„","å¤ã®æŒ¨æ‹¶"],["æµ·æ°´æµ´","ã‹ã„ã™ã„ã‚ˆã","æµ·éŠã³"],["å…¥é“é›²","ã«ã‚…ã†ã©ã†ãã‚‚","å¤ã®é›²"],["å¤•ç«‹","ã‚†ã†ã ã¡","æ€¥ãªé›¨"],["å†·å¥´","ã²ã‚„ã‚„ã£ã“","å†·è±†è…"],["é¢¨éˆ´","ãµã†ã‚Šã‚“","æ¶¼ã—ã„éŸ³"],["æœé¡”","ã‚ã•ãŒãŠ","æœã®èŠ±"],["å‘æ—¥è‘µ","ã²ã¾ã‚ã‚Š","å¤ªé™½ã®èŠ±"],["å¤ä¼‘ã¿","ãªã¤ã‚„ã™ã¿","å­ä¾›ä¼‘æš‡"],["è‰","ã›ã¿","å¤ä¸€ç•ª"],["é‡‘é­š","ãã‚“ãã‚‡","æ¶¼ã—ã„é­š"],["å›£æ‰‡","ã†ã¡ã‚","é¢¨èµ·ã“ã—"],["æµ´è¡£","ã‚†ã‹ãŸ","å¤ç€"],["è“®","ã¯ã™","æ± ã®èŠ±"],["ç‚æ˜¼","ãˆã‚“ã¡ã‚…ã†","çœŸæ˜¼"],["ç¥‡åœ’ç¥­","ããŠã‚“ã¾ã¤ã‚Š","äº¬éƒ½ç¥­"],["åœŸç”¨","ã©ã‚ˆã†","ã†ãªã"],["é€ƒã’æ°´","ã«ã’ã¿ãš","å¹»ã®æ°´"]],
    8: [["ãŠç›†","ãŠã¼ã‚“","å…ˆç¥–è¿ãˆ"],["èŠ±ç«","ã¯ãªã³","å¤ã®å¤œ"],["ç«‹ç§‹","ã‚Šã£ã—ã‚…ã†","ç§‹ã®æ°—é…"],["æ®‹æš‘","ã–ã‚“ã—ã‚‡","æ®‹ã‚‹æš‘ã•"],["é«˜æ ¡é‡çƒ","ã“ã†ã“ã†ã‚„ãã‚…ã†","ç”²å­åœ’"],["è¥¿ç“œ","ã™ã„ã‹","å¤ã®æœå®Ÿ"],["ç§‹ã®ä¸ƒè‰","ã‚ãã®ãªãªãã•","é‡è‰"],["æµæ˜Ÿç¾¤","ã‚Šã‚…ã†ã›ã„ãã‚“","æ˜Ÿé™ã‚‹å¤œ"],["æ³•å¸«è‰","ã»ã†ã—ãœã¿","æ™©å¤ã®è‰"],["å¤œã®ç§‹","ã‚ˆã‚‹ã®ã‚ã","æ¶¼ã—ã„å¤œ"],["èœ»è›‰","ã¨ã‚“ã¼","ç§‹ã®è™«"],["å°é¢¨","ãŸã„ãµã†","é‡åˆ†"],["ç¨²å¦»","ã„ãªãšã¾","é›·å…‰"],["ç›†è¸Šã‚Š","ã¼ã‚“ãŠã©ã‚Š","å¤ã®èˆ"],["æ–°æ¶¼","ã—ã‚“ã‚Šã‚‡ã†","æ¶¼ã—ã•"],["è™«é€ã‚Š","ã‚€ã—ãŠãã‚Š","è±Šä½œç¥ˆé¡˜"],["åŸçˆ†å¿Œ","ã’ã‚“ã°ãã","ç¥ˆã‚Šã®æ—¥"],["çµ‚æˆ¦æ—¥","ã—ã‚…ã†ã›ã‚“ã³","8/15"],["è‘¡è„","ã¶ã©ã†","ç§‹æœå®Ÿ"],["ç§‹ã‚ã","ã‚ãã‚ã","ç§‹ã‚‰ã—ã"]],
    9: [["åæœˆ","ã‚ã„ã’ã¤","åäº”å¤œ"],["æ•¬è€ã®æ—¥","ã‘ã„ã‚ã†ã®ã²","é•·å¯¿ç¥"],["ç§‹åˆ†","ã—ã‚…ã†ã¶ã‚“","å½¼å²¸"],["è™«ã®å£°","ã‚€ã—ã®ã“ãˆ","éˆ´è™«"],["ç§‹é›¨","ã‚ãã•ã‚","é•·é›¨"],["èŠ","ãã","çš‡å®¤èŠ±"],["ç§‹åˆ€é­š","ã•ã‚“ã¾","ç§‹ã®å‘³"],["å½¼å²¸èŠ±","ã²ãŒã‚“ã°ãª","èµ¤ã„èŠ±"],["æ¢¨","ãªã—","æœç‰©"],["é°¯é›²","ã„ã‚ã—ãã‚‚","ç§‹ã®ç©º"],["é‹å‹•ä¼š","ã†ã‚“ã©ã†ã‹ã„","ç§‹è¡Œäº‹"],["å¤œé•·","ã‚ˆãªãŒ","é•·ã„å¤œ"],["æ–°ç±³","ã—ã‚“ã¾ã„","æ–°ç±³"],["ç§‹ã®ç©º","ã‚ãã®ãã‚‰","å¤‰ã‚ã‚Šæ˜“ã„"],["æ¡ˆå±±å­","ã‹ã‹ã—","ç”°ã®å®ˆ"],["æ —","ãã‚Š","ç§‹å‘³"],["è©","ã¯ã","ä¸ƒè‰"],["èŠ’","ã™ã™ã","æœˆè¦‹è‰"],["é‡åˆ†","ã®ã‚ã","å°é¢¨"],["çˆ½ã‚„ã‹","ã•ã‚ã‚„ã‹","ç§‹æ°—å€™"]],
    10: [["ç´…è‘‰","ã‚‚ã¿ã˜","è‰²ã¥ãå±±"],["ãƒãƒ­ã‚¦ã‚£ãƒ³","ã¯ã‚ã†ãƒã‚“","ä»®è£…"],["ç¥ç„¡æœˆ","ã‹ã‚“ãªã¥ã","10æœˆ"],["ç§‹æ¡œ","ã“ã™ã‚‚ã™","ç§‹æ¡œ"],["æŸ¿","ã‹ã","ç§‹æœå®Ÿ"],["æ¾èŒ¸","ã¾ã¤ãŸã‘","èŒ¸ã®ç‹"],["æœ¨çŠ€","ã‚‚ãã›ã„","é¦™ã‚Š"],["å¾Œã®æœˆ","ã®ã¡ã®ã¤ã","åä¸‰å¤œ"],["é¹¿","ã—ã‹","ç§‹é³´ã"],["èŠ‹ç…®","ã„ã‚‚ã«","æ±åŒ—è¡Œäº‹"],["ç§‹æ™´ã‚Œ","ã‚ãã°ã‚Œ","æ¾„ã¿ç©º"],["æ—æª","ã‚Šã‚“ã”","èµ¤ã„å®Ÿ"],["ç¨²åˆˆã‚Š","ã„ã­ã‹ã‚Š","åç©«"],["èª­æ›¸","ã©ãã—ã‚‡","ç§‹ã®å¤œ"],["èŠ¸è¡“","ã’ã„ã˜ã‚…ã¤","å±•ç¤ºä¼š"],["æ–‡åŒ–ã®æ—¥","ã¶ã‚“ã‹ã®ã²","11/3"],["æ™‚é›¨","ã—ãã‚Œ","é€šã‚Šé›¨"],["é®­","ã•ã‘","ç™»ã‚‹é­š"],["éŠ€æ","ã„ã¡ã‚‡ã†","é»„è‰²"],["ç§‹æƒœã—ã‚€","ã‚ããŠã—ã‚€","å†¬è¿‘ã—"]],
    11: [["ç«‹å†¬","ã‚Šã£ã¨ã†","å†¬å§‹"],["ä¸ƒäº”ä¸‰","ã—ã¡ã”ã•ã‚“","å­ä¾›ç¥"],["å‹¤åŠ´æ„Ÿè¬","ãã‚“ã‚ã†ã‹ã‚“ã—ã‚ƒ","æ„Ÿè¬"],["å°æ˜¥æ—¥å’Œ","ã“ã¯ã‚‹ã³ã‚ˆã‚Š","æš–æ—¥"],["åˆéœœ","ã¯ã¤ã—ã‚‚","å¯’ä¾¿ã‚Š"],["é…‰ã®å¸‚","ã¨ã‚Šã®ã„ã¡","å•†å£²"],["ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼","ã¼ã˜ã‚‡ã‚Œãƒ¼","æ–°é…’"],["è½è‘‰","ãŠã¡ã°","æ¯ã‚Œè‘‰"],["æœ¨æ¯ã‚‰ã—","ã“ãŒã‚‰ã—","å¯’é¢¨"],["ç„šç«","ãŸãã³","æš–ã‚’å–ã‚‹"],["å†¬æ”¯åº¦","ãµã‚†ã˜ãŸã","æº–å‚™"],["é¢¨é‚ª","ã‹ãœ","æµè¡Œ"],["å†¬ã®æœˆ","ãµã‚†ã®ã¤ã","å†´ãˆã‚‹"],["ç¥æ¥½","ã‹ãã‚‰","èˆ"],["æ–°è•éº¦","ã—ã‚“ãã°","ç§‹åç©«"],["å¤–å¥—","ãŒã„ã¨ã†","ã‚³ãƒ¼ãƒˆ"],["ç‚¬ç‡µ","ã“ãŸã¤","æš–æˆ¿"],["é‹","ãªã¹","æ¸©æ–™ç†"],["ç†Šæ‰‹","ãã¾ã§","ç¸èµ·"],["åƒæ­³é£´","ã¡ã¨ã›ã‚ã‚","ç¥ã„é£´"]],
    12: [["å¸«èµ°","ã—ã‚ã™","12æœˆ"],["å¤§æ™¦æ—¥","ãŠãŠã¿ãã‹","æœ€å¾Œã®æ—¥"],["ã‚¯ãƒªã‚¹ãƒã‚¹","ãã‚Šã™ã¾ã™","è–å¤œ"],["é™¤å¤œã®é˜","ã˜ã‚‡ã‚„ã®ã‹ã­","108ã¤"],["å†¬è‡³","ã¨ã†ã˜","æŸšå­æ¹¯"],["å¿˜å¹´ä¼š","ã¼ã†ã­ã‚“ã‹ã„","å®´ä¼š"],["å¹´è¶Šã—è•éº¦","ã¨ã—ã“ã—ãã°","ç¸èµ·"],["å¤§æƒé™¤","ãŠãŠãã†ã˜","æ¸…ã‚"],["å¯’æ³¢","ã‹ã‚“ã±","å¯’ã•"],["ãƒã‚¤ãƒ³ã‚»ãƒã‚¢","ã½ã„ã‚“ã›ã¡ã‚","èµ¤è‘‰"],["æ—¥è¨˜è²·ã†","ã«ã£ãã‹ã†","æ–°èª¿"],["æ¯ç™½ã—","ã„ãã—ã‚ã—","å¯’ã•"],["å†¬çœ ","ã¨ã†ã¿ã‚“","çœ ã‚Š"],["ãŠæ­³æš®","ãŠã›ã„ã¼","è´ˆã‚Šç‰©"],["ã‚¹ã‚­ãƒ¼","ã™ããƒ¼","é›ªéŠã³"],["ç¾½å­æ¿","ã¯ã”ã„ãŸ","æ­£æœˆã®éŠ"],["æ•°ãˆæ—¥","ã‹ããˆã³","æ®‹ã‚Šæ—¥"],["å¯’è¡Œ","ã‹ã‚“ãã‚‡ã†","ä¿®è¡Œ"],["ç‹ç«","ãã¤ã­ã³","æ€ªç«"],["æ¯æœ¨","ã‹ã‚Œã","è£¸æœ¨"]]
};

/* ==========================================================================
   ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯
   ========================================================================== */
// è‡ªå‹•ã§ç¾åœ¨ã®æœˆã‚’å–å¾—
let currentMonth = new Date().getMonth() + 1;
let currentMode = 'view';
let chatLogs = {
    gen: [{role:'ai', text:'è‡ªå‹•ç”ŸæˆAIã§ã™ã€‚ãŠé¡Œã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\nçµ¶å¯¾ã«äº”ãƒ»ä¸ƒãƒ»äº”ï¼ˆå­—ä½™ã‚Šãƒ»å­—è¶³ã‚‰ãšç„¡ã—ï¼‰ã§ç”Ÿæˆã—ã€100ç‚¹æº€ç‚¹ã‚’ä¿è¨¼ã—ã¾ã™ã€‚'}],
    score: [{role:'ai', text:'æ¡ç‚¹AIã§ã™ã€‚ä¿³å¥ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\nã²ã‚‰ãŒãªã§å…¥åŠ›ã™ã‚‹ã¨ã€Œãã‚ƒãƒ»ãã‚…ãƒ»ãã‚‡ã€ãªã©ã®éŸ³æ•°ã‚’å®Œç’§ã«åˆ¤å®šã—ã¾ã™ã€‚'}],
    qa: [{role:'ai', text:'è³ªå•AIã§ã™ã€‚ä¿³å¥ã‚„å­£èªã®ã“ã¨ãªã‚‰ä½•ã§ã‚‚èã„ã¦ãã ã•ã„ã€‚æ–‡è„ˆã‚’ç†è§£ã—ã¦ç­”ãˆã¾ã™ã€‚'}]
};

window.onload = () => {
    // æ—¥ä»˜è¡¨ç¤º
    const now = new Date();
    document.getElementById('dateDisplay').innerText = `${now.getMonth()+1}æœˆ${now.getDate()}æ—¥`;
    currentMonth = now.getMonth() + 1;

    // ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ç”Ÿæˆ
    const sel = document.getElementById('monthSelect');
    for(let i=1; i<=12; i++){
        let opt = document.createElement('option');
        opt.value = i; opt.text = `${i}æœˆ (${MONTH_META[i].n})`;
        if(i===currentMonth) opt.selected = true;
        sel.appendChild(opt);
    }
    updateMonth(currentMonth);
};

function setMode(mode) {
    currentMode = mode;
    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
    event.currentTarget.classList.add('active');
    render();
}

function changeMonth(val) {
    updateMonth(parseInt(val));
}

function updateMonth(m) {
    currentMonth = m;
    render();
}

function render() {
    const d = MONTH_META[currentMonth];
    document.body.className = d.s;
    document.getElementById('headTitle').innerText = `${d.n}ã®å€™`;
    document.getElementById('headSub').innerText = d.d;
    document.getElementById('headIcon').innerText = getComputedStyle(document.body).getPropertyValue('--icon').replace(/"/g, "");
    
    const content = document.getElementById('content');
    content.innerHTML = "";

    if(currentMode==='view') renderHaiku(content);
    else if(currentMode==='kigo') renderKigo(content);
    else if(currentMode==='poets') renderPoets(content);
    else renderAI(content);
}

// 1. ä¿³å¥è¡¨ç¤º
function renderHaiku(c) {
    c.innerHTML = `<div class="haiku-grid">${HAIKU_DB[currentMonth].map((h,i)=>`
        <div class="haiku-card" onclick="openDetail('haiku', ${i})">
            <span class="hint-badge">è§£èª¬</span>
            <div class="v-text"><span class="h-part">${h[0]}</span><span class="h-part">${h[1]}</span><span class="h-part">${h[2]}</span></div>
            <div class="author-sign">â€• ${h[3]}</div>
        </div>`).join('')}</div>`;
}

// 2. å­£èªè¡¨ç¤º
function renderKigo(c) {
    c.innerHTML = `<div class="kigo-grid">${KIGO_DB[currentMonth].map(k=>`
        <div class="kigo-card">
            <div class="kigo-head"><span class="kigo-word">${k[0]}</span><span class="kigo-yomi">(${k[1]})</span></div>
            <div class="kigo-mean">${k[2]}</div>
        </div>`).join('')}</div>`;
}

// 3. ä¿³äººå›³é‘‘ (2x6)
function renderPoets(c) {
    c.innerHTML = `<div class="poet-grid">${POETS.map((p,i)=>`
        <div class="poet-card" onclick="openDetail('poet', ${i})">
            <img src="${p.img}" class="poet-img">
            <div>
                <div class="poet-name">${p.n}</div>
                <div class="poet-era">${p.era}</div>
                <div class="poet-arr">è©³ç´°ã‚’è¦‹ã‚‹ â–¶</div>
            </div>
        </div>`).join('')}</div>`;
}

// 4. AIãƒãƒ£ãƒƒãƒˆ
function renderAI(c) {
    const titles = { qa: "ğŸ™‹ è³ªå•å…ˆç”Ÿ", score: "ğŸ’¯ æ¡ç‚¹å…ˆç”Ÿ", gen: "âœ¨ è‡ªå‹•ä¿³å¥ç”Ÿæˆ" };
    c.innerHTML = `
    <div class="chat-container">
        <h3 style="margin-bottom:1rem; text-align:center;">${titles[currentMode]}</h3>
        <div class="chat-box" id="chatBox"></div>
        <div class="input-area">
            <input type="text" id="chatInput" class="chat-input" placeholder="å…¥åŠ›..." onkeypress="if(event.key==='Enter') sendChat()">
            <button class="send-btn" onclick="sendChat()">é€ä¿¡</button>
        </div>
    </div>`;
    updateChat();
}

function updateChat() {
    const box = document.getElementById('chatBox');
    if(!box) return;
    box.innerHTML = chatLogs[currentMode].map(m => `<div class="msg ${m.role==='ai'?'msg-ai':'msg-user'}">${m.text.replace(/\n/g,'<br>')}</div>`).join("");
    box.scrollTop = box.scrollHeight;
}

// è©³ç´°ãƒšãƒ¼ã‚¸æ©Ÿèƒ½
function openDetail(type, idx) {
    const page = document.getElementById('detailPage');
    const body = document.getElementById('detailBody');
    
    if(type === 'poet') {
        const p = POETS[idx];
        body.innerHTML = `
            <div style="text-align:center;">
                <img src="${p.img}" style="width:200px; height:200px; border-radius:50%; border:5px solid var(--accent); object-fit:cover; margin-bottom:1rem;">
                <h2 style="font-size:2.5rem; margin:0;">${p.n}</h2>
                <p style="color:#666;">${p.era}</p>
            </div>
            <h3>äººç‰©åƒ</h3><p>${p.d}</p>
            <h3>ä»£è¡¨å¥</h3>
            <ul style="font-size:1.4rem; list-style:none; padding:0; text-align:center; background:#f9f9f9; padding:2rem; border-radius:12px;">
                ${p.f.map(f=>`<li style="margin-bottom:10px;">${f}</li>`).join('')}
            </ul>`;
    } else {
        const h = HAIKU_DB[currentMonth][idx];
        body.innerHTML = `
            <div style="text-align:center; margin-bottom:2rem;">
                <h2 style="font-size:2rem; margin:0; color:var(--accent);">${h[3]} ã®å¥</h2>
                <p>(${h[4]}æ™‚ä»£)</p>
            </div>
            <div style="font-size:2rem; writing-mode:vertical-rl; text-orientation:upright; height:300px; margin:0 auto; font-weight:bold; letter-spacing:0.2em;">
                ${h[0]}ã€€${h[1]}ã€€${h[2]}
            </div>
            <div style="margin-top:2rem; padding:2rem; background:#f5f5f5; border-radius:12px;">
                <h3 style="margin-top:0;">é‘‘è³ãƒ»è§£èª¬</h3>
                <p>${h[5]}</p>
            </div>`;
    }
    page.classList.add('active');
}
function closeDetail() {
    document.getElementById('detailPage').classList.remove('active');
}

/* ==========================================================================
   AI ãƒ­ã‚¸ãƒƒã‚¯ (éŸ³æ•°åˆ¤å®šãƒ»ç”Ÿæˆ)
   ========================================================================== */
function countMora(str) {
    // ã²ã‚‰ãŒãªä»¥å¤–ã‚’é™¤å»
    let s = str.replace(/[^ã-ã‚“ãƒ¼]/g, "");
    // å°æ›¸ãæ–‡å­—ã€Œã‚ƒã‚…ã‚‡ããƒã…ã‡ã‰ã€ã¯å‰ã®æ–‡å­—ã¨ã‚»ãƒƒãƒˆã§1éŸ³ãªã®ã§ã€æ–‡å­—æ•°ã‹ã‚‰å¼•ã
    // ãŸã ã—ã€Œã£ã€ã¯1éŸ³ãªã®ã§å¼•ã‹ãªã„
    const smalls = s.match(/[ããƒã…ã‡ã‰ã‚ƒã‚…ã‚‡]/g);
    let count = s.length;
    if (smalls) count -= smalls.length;
    return count;
}

function sendChat() {
    const input = document.getElementById('chatInput');
    const txt = input.value.trim();
    if(!txt) return;

    chatLogs[currentMode].push({role:'user', text:txt});
    updateChat();
    input.value = "";

    setTimeout(() => {
        let res = "";
        
        // --- ç”ŸæˆAI (ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåµŒã‚è¾¼ã¿å¼) ---
        if(currentMode === 'gen') {
            const seasonKigo = KIGO_DB[currentMonth][0][0]; // ãã®æœˆã®ä»£è¡¨å­£èª
            // çµ¶å¯¾ã«å´©ã‚Œãªã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
            const templates = [
                [`${txt}ã‚„`, "å¿ƒé™ã‹ãª", "åˆå¾Œã®ç©º"],
                [`${txt}ã®`, "è‰²ã‚ã–ã‚„ã‹ãª", "å­£ç¯€ã‹ãª"],
                [`é¢¨å¹ã‘ã°`, `${txt}æºã‚Œã‚‹`, "å·ã®ç«¯"],
                [`${seasonKigo}ã‚„`, `${txt}ã²ã¨ã¤`, "çµµã«ãªã‚Šã¬"]
            ];
            const t = templates[Math.floor(Math.random()*templates.length)];
            
            // å¼·åˆ¶çš„ã«é•·ã•ã‚’èª¿æ•´ï¼ˆãŠé¡ŒãŒé•·ã„å ´åˆãªã©ã®å¾®èª¿æ•´ã¯çœç•¥ã—ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå„ªå…ˆã§çµåˆï¼‰
            res = `ãŠé¡Œã€Œ${txt}ã€ã§ä½œã‚Šã¾ã—ãŸã€‚\n\nã€ ${t[0]}ã€€${t[1]}ã€€${t[2]} ã€\n\nã€æ¡ç‚¹çµæœã€‘\näº”ãƒ»ä¸ƒãƒ»äº”ï¼ˆ17éŸ³ï¼‰\nåˆ¤å®šï¼š100ç‚¹æº€ç‚¹ã§ã™ã€‚`;
        }
        
        // --- æ¡ç‚¹AI ---
        else if(currentMode === 'score') {
            if(txt.match(/[ä¸€-é¾ ]/)) {
                res = "æ¼¢å­—ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚æ­£ç¢ºã«åˆ¤å®šã™ã‚‹ãŸã‚ã€ã²ã‚‰ãŒãªã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\nï¼ˆä¾‹ï¼šãµã‚‹ã„ã‘ã‚„...ï¼‰";
            } else {
                const c = countMora(txt);
                if(c === 17) res = `éŸ³æ•°ï¼š${c}éŸ³\n\nç´ æ™´ã‚‰ã—ã„ï¼äº”ãƒ»ä¸ƒãƒ»äº”ã®å®šå‹ã«å®Œç’§ã«åã¾ã£ã¦ã„ã¾ã™ã€‚\nãƒªã‚ºãƒ æ„Ÿã‚‚æœ€é«˜ã§ã™ã€‚100ç‚¹ï¼`;
                else if(c > 17) res = `éŸ³æ•°ï¼š${c}éŸ³\n\n${c-17}éŸ³å¤šã„ã€Œå­—ä½™ã‚Šã€ã§ã™ã€‚\nã‚ãˆã¦å‹¢ã„ã‚’å‡ºã—ãŸã®ã§ãªã‘ã‚Œã°ã€åŠ©è©ã‚’å‰Šã£ã¦æ•´ãˆã¾ã—ã‚‡ã†ã€‚`;
                else res = `éŸ³æ•°ï¼š${c}éŸ³\n\n${17-c}éŸ³è¶³ã‚Šãªã„ã€Œå­—è¶³ã‚‰ãšã€ã§ã™ã€‚\næå†™ã‚’å°‘ã—è¶³ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚`;
            }
        }
        
        // --- è³ªå•AI ---
        else if(currentMode === 'qa') {
            if(txt.includes("åˆ‡ã‚Œå­—")) res = "åˆ‡ã‚Œå­—ï¼ˆã‚„ãƒ»ã‹ãªãƒ»ã‘ã‚Šï¼‰ã¯ã€å¥ã«ä½™éŸ»ã‚„è© å˜†ã‚’ä¸ãˆã‚‹ãŸã‚ã®æŠ€æ³•ã§ã™ã€‚ã€Œå¤æ± ã‚„ã€ã®ã‚ˆã†ã«ä¸Šäº”ã§åˆ‡ã‚‹ã¨ã€ãã®å¾Œã®æƒ…æ™¯ãŒéš›ç«‹ã¡ã¾ã™ã€‚";
            else if(txt.includes("å­£èª")) res = `${currentMonth}æœˆã®å­£èªã§ã™ã­ã€‚ã€Œ${KIGO_DB[currentMonth][0][0]}ã€ã‚„ã€Œ${KIGO_DB[currentMonth][1][0]}ã€ãªã©ãŒä½¿ã„ã‚„ã™ã„ã§ã™ã‚ˆã€‚`;
            else res = "ä¿³å¥ã¯ã€Œçœç•¥ã®æ–‡å­¦ã€ã§ã™ã€‚å…¨ã¦ã‚’èªã‚‰ãšã€èª­è€…ã®æƒ³åƒåŠ›ã«å§”ã­ã‚‹ä½™ç™½ã‚’å¤§åˆ‡ã«ã—ã¾ã—ã‚‡ã†ã€‚ã¾ãšã¯è¦‹ãŸã¾ã¾ã‚’å†™ç”Ÿã™ã‚‹ã“ã¨ã‹ã‚‰å§‹ã‚ã¦ã¿ã¦ãã ã•ã„ã€‚";
        }
        
        chatLogs[currentMode].push({role:'ai', text:res});
        updateChat();
    }, 600);
}
</script>
</body>
</html>
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸŒ¸</text></svg>">